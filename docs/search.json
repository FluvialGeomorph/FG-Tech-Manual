[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "FluvialGeomorph Technical Manual",
    "section": "",
    "text": "Preface\nFunding for development and maintenance of FluvialGeomorph has been provided by the following US Army Corps of Engineers (USACE) programs:",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#abstract",
    "href": "index.html#abstract",
    "title": "FluvialGeomorph Technical Manual",
    "section": "Abstract",
    "text": "Abstract\nThe FluvialGeomorph ArcGIS toolbox provides a set of tools for conducting rapid fluvial geomorphology analysis and assessment. It allows a user to use high resolution, remotely sensed LiDAR (Light Detection and Ranging) terrain data to cost effectively extract stream channel dimensions at fine scale for large spatial extents. This document describes the methods used in the development of the FluvialGeomorph project.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#distribution-statement",
    "href": "index.html#distribution-statement",
    "title": "FluvialGeomorph Technical Manual",
    "section": "Distribution Statement",
    "text": "Distribution Statement\nApproved for public release; distribution is unlimited",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#unit-conversion-factors",
    "href": "index.html#unit-conversion-factors",
    "title": "FluvialGeomorph Technical Manual",
    "section": "Unit Conversion Factors",
    "text": "Unit Conversion Factors\n\nUnit Conversion Factors\n\n\nMultiply\nBy\nTo Obtain\n\n\n\n\nfeet\n0.3048\nmeters\n\n\nmiles\n1.60934\nkilometers\n\n\nsquare miles\n2.58999\nsquare kilometers",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#notation-list",
    "href": "index.html#notation-list",
    "title": "FluvialGeomorph Technical Manual",
    "section": "Notation List",
    "text": "Notation List",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "0-1-Intro.html",
    "href": "0-1-Intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "Purpose",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "0-1-Intro.html#purpose",
    "href": "0-1-Intro.html#purpose",
    "title": "1  Introduction",
    "section": "",
    "text": "Document the methods used in FluvialGeomorph\nEstablish a common set of concepts and terminology between fluvial geomorphologists, geospatial analysts, and biologists/ecologists\ndefine terms\nDescribe tools\nDescribe products",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "0-1-Intro.html#fluvialgeomorph-goals",
    "href": "0-1-Intro.html#fluvialgeomorph-goals",
    "title": "1  Introduction",
    "section": "FluvialGeomorph Goals",
    "text": "FluvialGeomorph Goals\n\nDevelop reproducible methods for analyzing streams using remote sensing data\nDevelop a set of fluvial feature extraction tools\nDevelop methods that take advantage of the wealth on new LiDAR survey data",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "0-1-Intro.html#design-philosophy",
    "href": "0-1-Intro.html#design-philosophy",
    "title": "1  Introduction",
    "section": "Design Philosophy",
    "text": "Design Philosophy\n\nOpen source\nEstablish a framework to build upon\nCombine best-of-breed tools\nOpinionated API\nStandardize reporting products",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "0-1-Intro.html#previous-work",
    "href": "0-1-Intro.html#previous-work",
    "title": "1  Introduction",
    "section": "Previous Work",
    "text": "Previous Work\n\nRiver Bathymetry Toolkit\nTauDEM",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "0-1-Intro.html#other-resources",
    "href": "0-1-Intro.html#other-resources",
    "title": "1  Introduction",
    "section": "Other Resources",
    "text": "Other Resources\n\nHow to use the tools is described in the user manual\nApplication of this approach is described in other technical reports.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "1-1-Concepts.html",
    "href": "1-1-Concepts.html",
    "title": "2  Concepts",
    "section": "",
    "text": "Fluvial Geomorphology\nThis section will discuss",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Concepts</span>"
    ]
  },
  {
    "objectID": "1-1-Concepts.html#fluvial-geomorphology",
    "href": "1-1-Concepts.html#fluvial-geomorphology",
    "title": "2  Concepts",
    "section": "",
    "text": "Reach\nhierarchical levels: project study area, site, reach\n\n\nFlowline\n\ncenterline\nthalweg\n\n\n\nPosition Along River\n\n\nPool-Riffle-Run\n\n\nCross Section\n\n\nBankfull\n\n\nFlood Prone\n\n\nPlanform {planform-concept}\n\nloops contain bends\nloops have an apex\nloops alternate\ncrossovers\nValley Line",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Concepts</span>"
    ]
  },
  {
    "objectID": "1-1-Concepts.html#geospatial",
    "href": "1-1-Concepts.html#geospatial",
    "title": "2  Concepts",
    "section": "Geospatial",
    "text": "Geospatial\n\nLiDAR Stream Measurement\n\ndiscuss the difference between water surface and channel bottom\ndiagram of stream\n\n\n\nTerrain Models\n\npoint cloud\nraster\nsurface models, terrain models\n\n\n\nTerrain Visualization\n\n\nSynthetic Stream Delineation\n\n\nFlow Accumulation\n\n\nHydro Modification\n\n\nDetrending\n\n“relative bank height”\nfigure: side-by-side DEM and detrend\nfigure: side-by-side longitudinal profiles\n\n\n\nWater Surface Elevation\nSince water almost completely absorbs LiDAR light pulses, areas of water are usually missing elevation data. However, this does not mean that water surface elevation (WSE) cannot be derived from or accurately represented in LiDAR datasets. The elevation of water areas in DEMs derived from LiDAR point clouds can be represented due to the acquisition of points along the water’s edge. See Figure x1 for an illustration of where these points are located.\n\n\n\n\n\nLiDAR Points Acquired Close to the Water’s Edge Define the Water Surface. Mississippi River, RM 435, Vicksburg, MS.\n\n\n\n\nThe point cloud density will largely determine how accurately the water surface is captured, driven by the probability of capturing points as close to the water line as possible. In relatively low point cloud density LiDAR collections (&gt;=1m point cloud spacing) the water surface is often represented with artifacts. These artifacts are commonly referred to as TIN (Triangulated Irregular Networks) artifacts created when the DEM is derived. These occur when LiDAR points were not regularly acquired close to the water’s edge. Sections of the banklines where LiDAR points were not acquired close to the water’s edge will appear as triangular “humps” in the water surface. In Figure x2, these “hump” artifacts are clearly visible as reddish areas, while the lower elevation areas close to the water surface elevation appears as green and blue areas.\n\n\n\n\n\nDEM artifacts due to LiDAR points not being captured close enough to the water’s edge. Mississippi River, RM 444-445.\n\n\n\n\n\n\nSpatial Data Clearinghouses for Terrain Data\n\n3DEP\nThe National Map\nState clearinghouses",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Concepts</span>"
    ]
  },
  {
    "objectID": "1-2-Metrics.html",
    "href": "1-2-Metrics.html",
    "title": "3  Metrics",
    "section": "",
    "text": "Level 1",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Metrics</span>"
    ]
  },
  {
    "objectID": "1-2-Metrics.html#level-1",
    "href": "1-2-Metrics.html#level-1",
    "title": "3  Metrics",
    "section": "",
    "text": "Drainage Area\n\n\nSlope\n\n\nSinuosity",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Metrics</span>"
    ]
  },
  {
    "objectID": "1-2-Metrics.html#level-2",
    "href": "1-2-Metrics.html#level-2",
    "title": "3  Metrics",
    "section": "Level 2",
    "text": "Level 2\n\nDischarge\n\n\nXS Area\n\n\nXS Width\n\n\nXS Depth\n\nmaximum depth\nmean depth\n\n\n\nXS Width to Depth Ratio\n\n\nEntrenchment Ratio\n\n\nShear Stress\n\ndensity\n\n\n\nStream Power\n\nunit",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Metrics</span>"
    ]
  },
  {
    "objectID": "1-2-Metrics.html#level-3",
    "href": "1-2-Metrics.html#level-3",
    "title": "3  Metrics",
    "section": "Level 3",
    "text": "Level 3\n\nBend Radius of Curvature\n\n\nMeander Length\n\n\nMeander Bend Width\n\n\nRadius of Curvature to Bankfull Width Ratio\n\n\nMeander Bend Width to Bankfull Width Ratio",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Metrics</span>"
    ]
  },
  {
    "objectID": "1-3-FieldMethods.html",
    "href": "1-3-FieldMethods.html",
    "title": "4  Field Methods",
    "section": "",
    "text": "Traditional Field Survey",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Field Methods</span>"
    ]
  },
  {
    "objectID": "1-3-FieldMethods.html#lidar-survey",
    "href": "1-3-FieldMethods.html#lidar-survey",
    "title": "4  Field Methods",
    "section": "LiDAR Survey",
    "text": "LiDAR Survey",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Field Methods</span>"
    ]
  },
  {
    "objectID": "1-3-FieldMethods.html#benefits-of-lidar-survey-compared-with-traditional-field-survey",
    "href": "1-3-FieldMethods.html#benefits-of-lidar-survey-compared-with-traditional-field-survey",
    "title": "4  Field Methods",
    "section": "Benefits of LiDAR Survey Compared with Traditional Field Survey",
    "text": "Benefits of LiDAR Survey Compared with Traditional Field Survey",
    "crumbs": [
      "Foundations",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Field Methods</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html",
    "href": "2-1-Install.html",
    "title": "5  Install",
    "section": "",
    "text": "Software Requirements\nHere is a summary of the software that must be installed to use the FluvialGeomorph toolbox. The rest of this chapter will describe how to complete these installations.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#software-requirements",
    "href": "2-1-Install.html#software-requirements",
    "title": "5  Install",
    "section": "",
    "text": "Windows OS (10+ recommended, Server 2019). ArcGIS desktop GIS applications are only provided by ESRI for the Windows platform.\nR Statistical Computing Language (4.x+ recommended)\nRStudio Desktop (1.3+ recommended)\nTauDEM (5.3.7+ recommended)\nArcGIS Pro (2.6+ recommended)\nArcGIS Desktop (10.8+ recommended), optional, limited support\nFluvialGeomorph toolbox, latest version",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#install-r",
    "href": "2-1-Install.html#install-r",
    "title": "5  Install",
    "section": "Install R",
    "text": "Install R\nR is a statistical computing environment required to perform calculations and report generation (R Core Team (2020)).\n\nEnsure that R is installed.\nR version 4.x or greater is recommended.\nEnsure that RTools is installed. You will need either RTools35 for R v3.5.x or RTools40 for R v4.x. RTools is required for compiling R packages from source. It is highly recommended, but not strictly required.\nEnsure that your RTools installation is on the system PATH (i.e., open a command prompt window, use the path command). If not, set your user environment PATH variable to the appropriate (depending on the R major version) RTools bin directory (e.g., C:\\Rtools\\bin, C:\\rtools40\\usr\\bin).",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#install-rstudio",
    "href": "2-1-Install.html#install-rstudio",
    "title": "5  Install",
    "section": "Install RStudio",
    "text": "Install RStudio\nRstudio is an Integrated Development Environment (IDE) for R that streamlines development and troubleshooting.\n\nEnsure that Rstudio is installed.\nRStudio version 1.4 or greater is recommended.\nRStudio is recommended, but not strictly required.\nUpdate your currently installed R packages to the latest version. On the RStudio tools menu, select “Check for Package Updates…”. Click the “Select All” button and click the “Install Updates” button.\nIf asked to compile packages from source, select “Yes” if you installed RTools.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#install-taudem",
    "href": "2-1-Install.html#install-taudem",
    "title": "5  Install",
    "section": "Install TauDEM",
    "text": "Install TauDEM\nTauDEM (Terrain Analysis Using Digital Elevation Models) is a suite of Digital Elevation Model (DEM) tools for the extraction and analysis of hydrologic information from topography as represented by a DEM ((tarboton_new_1997?), (fan_accelerating_2014?), (yldrm_accelerating_2016?)). TauDEM is used for advanced DEM processing and synthetic stream delineation.\n\nInstall the latest version of TauDEM, v5.3.7.\nEnsure that TauDEM is on the system PATH. If not, set your user environment PATH variable to the TauDEM executable directory (e.g., C:\\Program Files\\TauDEM\\TauDEM5Exe).",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#install-arcgis-pro",
    "href": "2-1-Install.html#install-arcgis-pro",
    "title": "5  Install",
    "section": "Install ArcGIS Pro",
    "text": "Install ArcGIS Pro\nESRI ArcGIS Pro is the GIS application where the FluvialGeomorph analysis will be performed and where the toolbox will be accessed.\n\nEnsure that ArcGIS Pro is installed.\nArcGIS Pro version 2.6+ is recommended.\n\n\nLimited ArcMap support\nESRI ArcMap can currently be used to run the FluvialGeomorph toolbox, but use of ArcGIS Pro provides more functionality (e.g., charting, map templates, etc.). As the ArcMap application approaches end of life, it will no longer be supported by the FluvialGeomorph toolbox. As ArcMap is a 32-bit application, some R functions currently do not always perform as expected under 32-bit R. If you expect to get the most out of the FluvialGeomorph toolbox, migrate now to ArcGIS Pro to take advantage of the latest data formats, geoprocessing speed, Python 3, and 64-bit R.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#install-arcgisbinding",
    "href": "2-1-Install.html#install-arcgisbinding",
    "title": "5  Install",
    "section": "Install arcgisbinding",
    "text": "Install arcgisbinding\nThe ESRI arcgisbinding R package allows ArcGIS Pro and ArcMap to read and write to R sessions. Installing it through ArcGIS Pro also enables it for use in ArcMap as well.\n\nInstall the latest arcgisbinding version\n\nIn ArcGIS Pro, on the top menu, click “Project”, and click “Options” on the left menu.\nIn the “Options” dialog box, click “Geoprocessing” on the left menu.\nOn the “Geoprocessing” page, scroll down to the “R-ArcGIS Support” section.\nIn the “R-ArcGIS Support” section, verify the installed R version for ArcGIS to use.\nSelect an R version in the 4.x series.\n\nFrom the “Installed ‘arcgisbinding’ package version:” dropdown menu, choose the “Check package for updates” option.\n\n\n\nDownload a specific arcgisbinding package version\nSometimes the FluvialGeomorph toolbox requires a specific version of the arcgisbinding package. Check the version compatibility matrix in the release notes for guidance. If the FluvialGeomporph toolbox release you are using specifies a particular combination of software versions, please manually download the specified version using these instructions:\n\nNavigate to the following URL: https://github.com/R-ArcGIS/r-bridge\nIn the “Releases” section on the middle-right side of the page, click the “+ xx releases” link.\nDownload the v1.0.1.239 version. This file is named: arcgisbinding_1.0.1.239.zip\nNote the location of the file you just downloaded. We will use it in a following step.\n\n\n\nInstall a specific arcgisbinding package version\n\nIn ArcGIS Pro, on the top menu, click “Project”, and click “Options” on the left menu.\nIn the “Options” dialog box, click “Geoprocessing” on the left menu.\nOn the “Geoprocessing” page, scroll down to the “R-ArcGIS Support” section.\nIn the “R-ArcGIS Support” section, verify the installed R version for ArcGIS to use.\nSelect an R version in the 3.6.x series.\n\nBelow the “Detected R home directories” drop-down menu, you will see the arcgisbinding package section. From the drop-down, choose the “Update from file” option. Navigate to the arcgisbinding_1.0.1.239.zip file you downloaded in an earlier step and click the OK button.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#install-fluvialgeomorph",
    "href": "2-1-Install.html#install-fluvialgeomorph",
    "title": "5  Install",
    "section": "Install FluvialGeomorph",
    "text": "Install FluvialGeomorph\nThe code in the FluvialGeomorph-toolbox/ repository contains all of the files needed to use this ArcGIS toolbox.\n\nOpen a web browser and navigate to https://github.com/FluvialGeomorph/FluvialGeomorph-toolbox/.\nIn the “Releases” section in the upper right side of the page, click the green “latest” link.\nOn the latest release page, use the “Source code (zip)” link toward the bottom of the page to download a ZIP archive of the toolbox.\nCopy the ZIP archive file to your project working directory.\nIf you already have a previous version of the FluvialGeomorph toolbox, delete it now.\nUnzip the archive file of the latest version to your project folder.\nIn ArcMap or ArcGIS Pro, navigate to the folder where you just unzipped the archive and you are ready to use this ArcGIS toolbox.\n\n\nInstall the FluvialGeomorph R packages\nIn this section we will use the FluvialGeomorph toolbox to install the R packages needed by the toolbox.\n\nEnsure that all other R applications (e.g., RGui, RStudio) are closed.\nIn ArcGIS Pro, navigate to the FluvialGeomorph toolbox and add it to your project.\nIn the Install toolset, use the Install R packages tool to install the required R packages.\nIn the tool’s “Messages” section, follow the R console output for messages on installation progress.\n\n\n\nTroubleshooting\nThis is a list of commonly experienced errors and warnings when installing FluvialGeomorph R packages and their workarounds.\nProblem:  cannot remove prior installation of package '&lt;some package&gt;'\nSolution:  Ensure that all other R applications (e.g., RGui, RStudio) are closed.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-1-Install.html#install-tutorial-data",
    "href": "2-1-Install.html#install-tutorial-data",
    "title": "5  Install",
    "section": "Install Tutorial Data",
    "text": "Install Tutorial Data\nSee the Tutorial Data chapter for instructions on downloading and setting-up the tutorial data.\n\n\n\n\n\nR Core Team. 2020. R: A Language and Environment for Statistical Computing. Vienna, Austria: R Foundation for Statistical Computing. https://www.R-project.org/.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Install</span>"
    ]
  },
  {
    "objectID": "2-2-TutorialData.html",
    "href": "2-2-TutorialData.html",
    "title": "6  Tutorial Data",
    "section": "",
    "text": "Map Templates\nTo standardize the maps used for this project, use these project site map templates.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tutorial Data</span>"
    ]
  },
  {
    "objectID": "2-2-TutorialData.html#cole-creek",
    "href": "2-2-TutorialData.html#cole-creek",
    "title": "6  Tutorial Data",
    "section": "Cole Creek",
    "text": "Cole Creek\nIn this section we will assemble the tutorial data for the Cole Creek Site in the Papillion Creek, NE project study area.\n\nStart preparing your project working directory by creating the following folder structure. See the project folder structure section for a detailed description of the functional role of each folder.\n\nPapillion_Creek\n└─── Sites\n│    └─── 01_Cole_Creek\n│    │    └─── Data\n│    │    └─── Elevation\n│    │    └─── Exports\n│    │    └─── Maps\n│    │    └─── Reports\n└─── Elevation\n└─── Exports\n└─── Maps\n\n\nDownload the Cole Creek Site Data site data using this link.\nUnarchive this .zip file to the Cole Creek site data folder.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tutorial Data</span>"
    ]
  },
  {
    "objectID": "2-2-TutorialData.html#big-blue-dam-ks",
    "href": "2-2-TutorialData.html#big-blue-dam-ks",
    "title": "6  Tutorial Data",
    "section": "Big Blue Dam, KS",
    "text": "Big Blue Dam, KS\nIn this section we will assemble the tutorial data for the Big Blue Dam sites in the Big Blue Dam, KS project study area.\n\nStart preparing your project working directory by creating the following folder structure. See the project folder structure section for a detailed description of the functional role of each folder.\n\nBig_Blue_Dam\n└─── Sites\n│    └─── 01_Horseshoe_Creek\n│    │    └─── Data\n│    │    └─── Elevation\n│    │    └─── Exports\n│    │    └─── Maps\n│    │    └─── Reports\n│    └─── 02_McIntire_Creek\n│    │    └─── Data\n│    │    └─── Elevation\n│    │    └─── Exports\n│    │    └─── Maps\n│    │    └─── Reports\n└─── Elevation\n└─── Exports\n└─── Maps\n\n\nDownload the Horseshoe Creek site data using this link.\nDownload the McIntire Creek site data using this link.\nUnarchive these .zip files to the appropriate Big Blue River site Data folder.\nDownload the Big Blue Reports using this link.\nUnarchive this .zip file to the appropriate Big Blue River site Reports folder.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Tutorial Data</span>"
    ]
  },
  {
    "objectID": "2-3-Toolbox.html",
    "href": "2-3-Toolbox.html",
    "title": "7  Toolbox",
    "section": "",
    "text": "Platforms\nThe FluvialGeomorph toolbox uses ESRI and open source software to combine several platforms, each chosen based on their strengths, to construct a custom toolbox for rapid fluvial geomorphology analysis.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Toolbox</span>"
    ]
  },
  {
    "objectID": "2-3-Toolbox.html#platforms",
    "href": "2-3-Toolbox.html#platforms",
    "title": "7  Toolbox",
    "section": "",
    "text": "ArcGIS Desktop -Desktop (ArcMap and ArcGIS Pro) are industry standard enterprise desktop GIS products for conducting geospatial analysis. The ArcGIS desktop applications contain an enormous number of commercial-off-the shelf (COTS) geospatial tools for performing sophisticated analyses and visualization.\nArcGIS toolbox - ArcGIS Desktop allows for the creation of sophisticated custom geospatial toolboxes to be built that combine ESRI’s COTS geoprocessing tools with user created tools from several platforms (e.g., Python, R).\nPython - ArcGIS provides a robust scripting interface to its GIS tools using the Python language. Custom geospatial toolboxes can combine ESRI’s COTS geoprocessing tools with tools available within the diverse, mature, and ever-growing Python data science ecosystem.\nR - ESRI’s ArcGIS R-bridge product allows R tools to be called within the ArcGIS toolbox interface. This allows ArcGIS tools to take advantage of the mature ecosystem of R data science, statistical, visualization, and report generation packages.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Toolbox</span>"
    ]
  },
  {
    "objectID": "2-3-Toolbox.html#packages",
    "href": "2-3-Toolbox.html#packages",
    "title": "7  Toolbox",
    "section": "Packages",
    "text": "Packages\nThe FluvialGeomorph toolbox is composed of a set of tightly connected packages that work together to complete the analysis. Modular design was a conscious architectural decision made to take advantage of the best tools and to help support long-term maintenance. Links are provided below to each package’s online code repository.\n\nThe FluvialGeomorph toolbox - This is the primary user-facing software component. It is an ArcGIS toolbox organized as a Python package. The custom Python tools in this toolbox perform primarily geospatial operations, where the ESRI platform excels (e.g., linear referencing). It also performs the installation of the needed R packages.\nThe fluvgeo R package - This custom R package developed for this project contains the bulk of the data science, statistical, visualization, and reporting functions, where the R platform excels.\nThe RegionalCurve R package - This custom R package developed for this project contains the data and functions for accessing regional hydraulic geometry studies.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Toolbox</span>"
    ]
  },
  {
    "objectID": "2-3-Toolbox.html#arcgis-toolbox",
    "href": "2-3-Toolbox.html#arcgis-toolbox",
    "title": "7  Toolbox",
    "section": "ArcGIS Toolbox",
    "text": "ArcGIS Toolbox\nThe FluvialGeomorph toolbox contains a set of tools for analyzing streams. These tools are divided into four toolsets.\n\n01 - Install toolset\nThe purpose of this toolset is to hold the tools needed to install and troubleshoot the FluvialGeomorph toolbox software components.\n\nInstall R Packages\nPurpose - This tool installs the R packages required by the FluvialGeomorph toolbox using these instructions in the user manual. This tool also sets several configuration settings.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/install/Install_FG_R.R.\n\n\n\nR Session Info\nPurpose - This tool provides the output of the current R session. This is helpful for troubleshooting R environment issues during installation.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/install/session.R.\n\n\n\n\n02 - Tools toolset\nThe purpose of this toolset is to hold the tools that perform the FluvialGeomorph analysis.\n\n02 - Hydro DEM\nPurpose - This tool “burns” (sets the elevation to the same value for all pixels along the extent of the polyline feature) a cutlines feature class into the supplied DEM and creates the dem_hydro in the output workspace using these instructions in the user manual. See this section for a detailed discussion of why hydro modification is required.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_02_HydroDEM.py.\nParameters - This tool contains the following parameters:\n\n\n\nHydro DEM Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ncutlines\nFeature Class\nPath to the cutlines feature class.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nwiden_cells\nlong\nNumber of cells to widen the cutline by.\noptional\n\n\n\n\n\n\n\n\n\n\n02 - Hydro DEM Tool Dialog.\n\n\n\n\n\n\n\n03 - Contributing Area\nPurpose - This tool calculates the D-infinity contributing area for each pixel in the input DEM and creates a contributing_area raster in the output workspace using these instructions in the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_03_ContributingArea.py. This Python script uses the TauDEM D-Infinity Contributing Area tool to calculate the specific catchment area (which is the contributing area per unit contour length using the multiple flow direction D-infinity approach).\nParameters - This tool contains the following parameters:\n\n\n\nContributing Area Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nprocesses\nlong\nThe number of stripes that the DEM will be divided into and the number of MPI parallel processes that will be spawned to evaluate each of the stripes. It is recommended to use no more than the number of cores on your computer.\nrequired\n\n\n\n\n\n\n\n\n\n\n03 - Contributing Area Tool.\n\n\n\n\n\n\n\n03a - Contributing Area D8\nPurpose - This tool creates the D8 flow_accumulation_d8 and flow_direction_d8 rasters in the output workspace for a given input DEM using these instructions in the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_03a_ContributingAreaD8.py.\nParameters - This tool contains the following parameters:\n\n\n\nContributing Area D8 Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nprocesses\nlong\nThe number of stripes that the DEM will be divided into and the number of MPI parallel processes that will be spawned to evaluate each of the stripes. It is recommended to use no more than the number of cores on your computer.\nrequired\n\n\n\n\n\n\n\n\n\n\n03a - Contributing Area D8 Tool.\n\n\n\n\n\n\n\n04 - Stream Network\nPurpose - This tool creates the synthetic flow network stream_network polyline feature class from a contributing_area raster for a given stream initiation threshold using these instruction in the user manual.\nCode - The ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_04_StreamNetwork.py.\nParameters - This tool contains the following parameters:\n\n\n\nStream Network Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ncontrib_area\nRaster Dataset\nPath to the D-Infinity contributing area raster created by the Contributing Area tool.\nrequired\n\n\nthreshold\nlong\nFlow accumulation threshold to initiate a stream expressed in the units of the source DEM used to accumulate the flow.\nrequired\n\n\nprocesses\nlong\nThe number of stripes that the DEM will be divided into and the number of MPI parallel processes that will be spawned to evaluate each of the stripes. It is recommended to use no more than the number of cores on your computer.\nrequired\n\n\n\n\n\n\n\n\n\n\n04 - Stream Network Tool.\n\n\n\n\n\n\n\n04a - Stream Network Points\nPurpose - This tool converts the stream_network to the stream_network_points points feature class using the these instructions from the user manual. This tool extracts elevation information from the DEM and calculates the drainage area.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_04a_StreamNetworkPoints.py.\nParameters - This tool contains the following parameters:\n\n\n\nStream Network Points Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nstream_network\nFeature Class\nPath to the edited stream_network feature class.\nrequired\n\n\nflow_accum\nRaster Dataset\nPath to the flow accumulation model.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\n\n\n\n\n\n\n\n\n04a - Stream Network Point Tool.\n\n\n\n\n\n\n\n04b - Slope and Sinuosity\nPurpose - This tool calculates the gradient_* points feature class for a flowline_points or stream_network feature class using these instructions from the user manual.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/tools/_04b_Gradient.R. This Python script call the R function fluvgeo::slope_sinuosity.\nParameters - This tool contains the following parameters:\n\n\n\nStream Network Points Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nflowline_points_fc\nFeature Class\nThe full path to a flowline_points feature class.\nrequired\n\n\ngradient_distance\ndouble\nThe number of features to lead (upstream) and lag (downstream) to calculate the slope and sinuosity. Must be an integer.\nrequired\n\n\nuse_smoothing\nBoolean\nDetermines if smoothed elevation values are used to calculate gradient and sinuosity (default is FALSE).\nrequired\n\n\nloess_span\ndouble\nThe loess regression span parameter (defaults to 0.05).\nrequired\n\n\n\n\n\n\n\n\n\n\n04b - Slope and Sinuosity Tool.\n\n\n\n\n\n\n\n04c - Watershed\nPurpose - This tool creates the watershed polygon feature class in the output workspace using these instructions from the user manual. This tool calculates the extent of the upstream drainage area for each point feature in the input watershed_points point feature class. This tool optionally calculates the landcover proportion in each watershed feature.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_04c_Watersheds.py.\nParameters - This tool contains the following parameters:\n\n\n\nWatershed Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\npoints\nFeature Class\nPath to the watershed_points feature class.\nrequired\n\n\npoint_ID_field\nField\nField in the watershed_points feature class that contains the point IDs.\nrequired\n\n\nflow_accumulation_d8\nRaster Dataset\nPath to the flow accumulation model.\nrequired\n\n\nflow_direction_d8\nRaster Dataset\nPath to the flow_direction_d8 model (must use D8 method).\nrequired\n\n\nsnap_distance\ndouble\nThe distance the point will be snapped to find the cell of highest flow accumulation.\nrequired\n\n\nlandcover\nRaster Dataset\nPath to a categorical land cover raster.\noptional\n\n\n\n\n\n\n\n\n\n\n04c - Watershed Tool.\n\n\n\n\n\n\n\n05 - Flowline\nPurpose - This tool creates a flowline feature class in the output workspace using these instructions from the user manual. This tool uses an edited stream_network feature class to derive the flowline.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_05_Flowline.py.\nParameters - This tool contains the following parameters:\n\n\n\nFlowline Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nstream_network\nFeature Class\nPath to the edited stream_network feature class.\nrequired\n\n\nsmooth_tolerance\nlong\nThe PAEK smoothing tolerance that controls the calculating of new vertices. Acceptable smoothing occurs with values between 2 - 5.\nrequired\n\n\n\n\n\n\n\n\n\n\n05 - Flowline Tool.\n\n\n\n\n\n\n\n06 - Flowline Points\nPurpose - This tool creates a flowline_points feature class in the output workspace using these instructions from the user manual. This tool converts a stream flowline feature class to a route and begins the stationing using the km_to_mouth parameter. This tool can optionally calibrate the output flowline_points using a point feature class.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_06_FlowlinePoints.py.\nParameters - This tool contains the following parameters:\n\n\n\nFlowline Points Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nflowline\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nkm_to_mouth\ndouble\nKilometers to the mouth of the study area outlet.\nrequired\n\n\nstation_distance\ndouble\nDistance between output flowline station points (in the linear units of the flowline feature class).\nrequired\n\n\ncalibration_points\nFeature Class\nA point feature class used to calibrate the output flowline_points.\noptional\n\n\npoint_ID_field\nField\nThe field that identifies the route on which each calibration point is located.The values in this field match those in the route identifier field. This field can be numeric or character. If using a flowline_points feature class, the id_field is “ReachName”.\noptional\n\n\nmeasure_field\nField\nThe field containing the measure value for each calibration point. This field must be numeric. If using a flowline_points feature class, the measure_field is “POINT_M”.\noptional\n\n\nsearch_radius\nstring\nLimits how far a calibration point can be from a route by specifying the distance and its unit of measure (e.g., “25 Meters”). If the units of measure are not specified, the same units as the coordinate system of the route feature class will be used.\noptional\n\n\n\n\n\n\n\n\n\n\n06 - Flowline Points Tool.\n\n\n\n\n\n\n\n07 - Detrend DEM\nThis tool creates the detrend raster using these instructions from the user manual. This tool uses flowline_points to remove the elevation trend from the stream reach. See this section for a detailed discussion on detrended DEMs.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_07_DetrendDEM.py.\nParameters - This tool contains the following parameters:\n\n\n\nDetrend DEM Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nflowline\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\nflowline_points\nFeature Class\nPath to the flowline_points feature class.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nbuffer distance\ndouble\nDistance the flowline_points feature class will be buffered to define the extent of the output detrended DEM. Units are defined by the coordinate system of the DEM.\nrequired\n\n\n\n\n\n\n\n\n\n\n07 - Detrend Tool.\n\n\n\n\n\n\n\n08 - Water Surface Extent\nPurpose - This tool creates the banks_raw polygon feature class using these Level 1 instructions from the user manual and these instructions for Level 2.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_08_WaterSurfaceExtent.py.\nParameters - This tool contains the following parameters:\n\n\n\nWater Surface Extent Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ndetrend_dem\nRaster Dataset\nPath to the detrended digital elevation model (DEM).\nrequired\n\n\ndetrend_value\ndouble\nDetrended elevation value used to define the innundated area. All raster values below this value will be extracted to a polygon.\nrequired\n\n\nsmoothing\ndouble\nSmoothing factor (0, no smoothing - 5, high smoothing)\nrequired\n\n\n\n\n\n\n\n\n\n\n08 - Water Surface Extent Tool.\n\n\n\n\n\n\n\n09 - Channel Slope\nPurpose - This tool creates the channel_slope raster using these instructions in the user manual. This tool uses banks extent polygon to calculate a slope raster for the channel area.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_09_ChannelSlope.py.\nParameters - This tool contains the following parameters:\n\n\n\nChannel Slope Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nbanks_poly\nFeature Class\nPath to a banks polygon feature class representing the channel area for which slope will be calculated.\nrequired\n\n\nz_factor\ndouble\nNumber of ground x,y units in one surface z unit.\nrequired\n\n\n\n\n\n\n\n\n\n\n09 - Channel Slope Tool.\n\n\n\n\n\n\n\n10 - Centerline\nPurpose - This tool creates the centerline polyline feature class using these instructions for Level 1 and Level 2 from the user manual. The centerline is the strem flow path that lies midway between the banks at bankfull.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_10_Centerline.py.\nParameters - This tool contains the following parameters:\n\n\n\nCenterline Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nbanks_poly\nFeature Class\nPath to a banks polygon representing the channel area for which slope will be calculated.\nrequired\n\n\nsmooth_tolerance\nlong\nThe PAEK smoothing tolerance that controls the calculating of new vertices. Acceptable smoothing occurs with values between 2 - 5.\nrequired\n\n\n\n\n\n\n\n\n\n\n10 - Centerline Tool.\n\n\n\n\n\n\n\n11 - XS Layout\nPurpose - This tool creates the xs_* polyline feature class using these instructions from the user manual. This tool creates a set of regularly spaced cross sections along the input flowline at the specified longitudinal spacing and lateral width. The output feature class is named xs_&lt;transect_spacing&gt;_&lt;transect_width&gt;.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_11_XSLayout.py.\nParameters - This tool contains the following parameters:\n\n\n\nCross Section Layout Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nflowline\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\nsplit_type\nstring\nMethod for placing cross sections along the flowline. “Split at approximate distance” places cross sections along the flowline at the value of transect_spacing. “Split at vertices” places cross sections at the nearest existing flowline vertex.\nrequired\n\n\ntransect_spacing\ndouble\nThe distance between cross sections as measured along the flowline. Uses units of the input flowline.\nrequired\n\n\ntransect_width\ndouble\nThe width of the cross section as measured from the flowline to its furthest outside point. Therefore, a value of 50 ft for transect_width will result in a cross section with an overall width of 100 ft (50 ft on the right descending bank and 50 ft on the left descending bank).\nrequired\n\n\ntransect_width_unit\nstring\nThe unit of the transect_width.\nrequired\n\n\n\n\n\n\n\n\n\n\n11 - XS Layout Tool.\n\n\n\n\n\n\n\n12 - XS Watershed Area\nPurpose - This tool adds or updates the field Watershed_Area_SqMile to the input cross section feature class using these instructions for Level 1 and Level 2 from the user manual. This field records the upstream drainage area for the cross section.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_12_XSWatershedArea.py.\nParameters - This tool contains the following parameters:\n\n\n\nCross Section watershed Area Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ncross_section\nFeature Class\nPath to the cross section line feature class.\nrequired\n\n\nflowline\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\nflow_accum\nRaster Dataset\nPath to the flow accumulation model.\nrequired\n\n\nsnap_distance\ndouble\nThe distance the point will be snapped to find the cell of highest flow accumulation.\nrequired\n\n\n\n\n\n\n\n\n\n\n12 - XS Watershed Area Tool.\n\n\n\n\n\n\n\n13 - XS River Position\nPurpose - This tool adds or updates the field km_to_mouth to the input cross section feature class using these instructions for Level 1 and Level 2 from the user manual. This field records the distance of the cross section from the mouth of the site.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/blob/_13_XSRiverPosition.py.\nParameters - This tool contains the following parameters:\n\n\n\nCross Section River Position Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ncross_section\nFeature Class\nPath to the cross section line feature class.\nrequired\n\n\nflowline_points\nFeature Class\nPath to the flowline_points feature class.\nrequired\n\n\n\n\n\n\n\n\n\n\n13 - XS River Position Tool.\n\n\n\n\n\n\n\n13a - XS Resequence\nPurpose - This tools reorders the values of the Seq field for the input cross section feature class using these instructions from the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_13a_XSResequence.py.\nParameters - This tool contains the following parameters:\n\n\n\nCross Section Resequence Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nxs_fc\nFeature Class\nPath to a cross section feature class.\nrequired\n\n\nstart_seq\nlong\nThe starting value of the Seq field.\nrequired\n\n\n\n\n\n\n\n\n\n\n13a - XS Resequence Tool.\n\n\n\n\n\n\n\n14 - XS Points\nPurpose - This tool creates the *_points points feature class using the these instructions for Level 1 and Level 2 from the user manual. This tool converts a cross section polyline feature class (i.e., xs_*, riffle_floodplain, riffle_channel) into a series of points stationed at the station_distance along the input cross section. The name of the input cross section prepended to the output feature class: &lt;cross_section name&gt;_points.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_14_XSPoints.py.\nParameters - This tool contains the following parameters:\n\n\n\nCross Section Points Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ncross_section\nFeature Class\nPath to the cross section line feature class.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\ndem_units\nstring\nVertical units of the DEM. Select one of “m” or “ft”.\nrequired\n\n\ndetrend_dem\nRaster Dataset\nPath to the detrended digital elevation model (DEM).\nrequired\n\n\nstation_distance\ndouble\nDistance between output flowline station points (in the linear units of the flowline feature class).\nrequired\n\n\n\n\n\n\n\n\n\n\n14 - XS Points Tool.\n\n\n\n\n\n\n\n14b - Bankline Points\nPurpose - This tool creates the bankline_points using these instructions in the user manual. This tool uses the loop_points and valleyline that the analyst manually created in previous steps.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_14b_BanklinePoints.py\nParameters - This tool contains the following parameters:\n\n\n\nBankline Points Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nloop_points\nFeature Class\nPath to the loop_points feature class.\nrequired\n\n\nbanklines\nFeature Class\nPath to the banklines feature class.\nrequired\n\n\nvalleyline\nFeature Class\nPath to the valleyline feature class.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nstation_distance\ndouble\nDistance between output flowline station points (in the linear units of the flowline feature class).\nrequired\n\n\n\n\n\n\n\n\n\n\n14b - Bankline Points Tool.\n\n\n\n\n\n\n\n14c - XS Assign Loops\nPurpose - This tool assigns loops and bends to input cross section feature class using the input bankline_points using these instructions in the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_14c_XSAssignLoops.py.\nParameters - This tool contains the following parameters:\n\n\n\nAssign Loops Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\ncross_section\nFeature Class\nPath to the cross section line feature class.\nrequired\n\n\nbankline_points\nFeature Class\nPath to the bankline_points feature class.\nrequired\n\n\n\n\n\n\n\n\n\n\n14c - XS Assign Loops Tool.\n\n\n\n\n\n\n\n15a - XS Dimensions, Level 1\npurpose - This tool calculates Level 1 cross section dimensions for the input cross section feature class (i.e., regular cross sections) using these instructions from the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_15a_XSDimensions.R which calls the R function fluvgeo::cross_section_dimensions_L1.\nParameters - This tool contains the following parameters:\n\n\n\nXS Dimensions, Level 1 Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nxs_fc\nFeature Class\nPath to a cross section feature class.\nrequired\n\n\nlead_n\nlong\nThe number of cross sections to lead (upstream) and lag (downstream) on either side of each cross section to calculate the slope and sinuosity. Must be an integer.\nrequired\n\n\nuse_smoothing\nBoolean\nDetermines if smoothed elevation values are used to calculate gradient and sinuosity (default is FALSE).\nrequired\n\n\nloess_span\ndouble\nThe loess regression span parameter (defaults to 0.05).\nrequired\n\n\nvert_units\nstring\nThe DEM vertical units. One of: “m” (meter), “ft” (foot), “us-ft” (us survey foot).\nrequired\n\n\n\n\n\n\n\n\n\n\n15a - XS Dimensions, Level 1 Tool.\n\n\n\n\n\n\n\n15b - XS Dimensions, Level 2\nPurpose - This tool calculates Level 3 cross section dimensions for the input cross section feature class (i.e., regular cross sections, riffle cross sections) using these instructions from the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_15b_XSDimensions.R\nParameters - This tool contains the following parameters:\n\n\n\nXS Dimensions, Level 2 Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nxs_fc\nFeature Class\nPath to a cross section feature class.\nrequired\n\n\nxs_points_fc\nFeature Class\nThe path to an cross section points feature class.\nrequired\n\n\nbankfull_elevation\ndouble\nThe bankfull elevation (in detrended feet) that is used to calculate hydraulic geometry.\nrequired\n\n\nlead_n\nlong\nThe number of cross sections to lead (upstream) and lag (downstream) on either side of each cross section to calculate the slope and sinuosity. Must be an integer.\nrequired\n\n\nuse_smoothing\nBoolean\nDetermines if smoothed elevation values are used to calculate gradient and sinuosity (default is FALSE).\nrequired\n\n\nloess_span\ndouble\nThe loess regression span parameter (defaults to 0.05).\nrequired\n\n\nvert_units\nstring\nThe DEM vertical units. One of: “m” (meter), “ft” (foot), “us-ft” (us survey foot).\nrequired\n\n\ndischarge_method\nstring\nThe method for calculating discharge (Q). Must be one of: “model_measure”, “regional_curve”, “width_relationship”.\nrequired\n\n\ndischarge_value\ndouble\nThe discharge value (single value or vector) to use for the stream power calculation. Required if discharge_method = “model_measure”.\noptional\n\n\nregion\nstring\nThe regional curve name used to calculate discharge. Required if discharge_method = “regional_curve”. This parameter is passed to the RegionalCurve::RHG function. See the RegionalCurve package for a list of regions with discharge relationships.\noptional\n\n\ndrainage_area\ndouble\nThe drainage area (single value or vector) used by the RegionalCurve::RHG function to calculate discharge. Required if discharge_method = “regional_curve”.\noptional\n\n\nwidth_method\nstring\nThe name of the width relationship used to calculate discharge (Q) from width. Required if discharge_method = “width_relationship”. Must be one of: .\noptional\n\n\n\n\n\n\n\n\n\n\n15b - XS Dimensions, Level 2 Tool.\n\n\n\n\n\n\n\n15c - XS Planform, Level 3\nPurpose - This tool calculates Level 3 cross section dimensions for the input cross section feature class (i.e., regular cross sections, riffle cross sections) using these instructions from the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph/FluvialGeomorph-toolbox/tools/_15c_XSPlanform.R which calls the R functions fluvgeo::planform_dimensions to calculate the planform dimensions and fluvgeo::xs_metric_ratios to calculate the metric ratios.\nParameters - This tool contains the following parameters:\n\n\n\nXS Dimensions, Level 3 Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nxs_dimensions\nFeature Class\nPath to a Level 2 cross section dimension line feature class.\nrequired\n\n\nbankline_points\nFeature Class\nPath to an bankline_points point feature class.\nrequired\n\n\n\n\n\n\n\n\n\n\n15b - XS Dimensions, Level 3 Tool.\n\n\n\n\n\n\n\n16 - XS RAS Watersurface\nPurpose - This tool adds or updates the field ras_wse_* to a cross section dimensions feature class using these instructions for Level 2 and Level 3 from the user manual.\nCode - This ArcGIS script tool calls the Python script FluvialGeomorph-toolbox/tools/_16_XS_RAS_WaterSurface.py.\nParameters - This tool contains the following parameters:\n\n\n\nXS RAS Watersurface Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\noutput_workspace\nWorkspace\nPath to the output workspace.\nrequired\n\n\nxs_dimensions\nFeature Class\nPath to a cross section dimension line feature class.\nrequired\n\n\nRAS_depth\nstring\nPath to the RAS model depth raster (elevation units feet).\nrequired\n\n\nRAS_model_name\nstring\nName of the RAS model that the depth raster represents. This name will be used to name the calculated WSE fields.\nrequired\n\n\n\n\n\n\n\n\n\n\n16 - XS RAS Watersurface Tool.\n\n\n\n\n\n\n\n03 - Reports toolset\nThe purpose of this toolset is to hold the tools that produce the FluvialGeomorph reports.\n\nGraph - Longitudinal Profile Compare\nPurpose - This tool produces the longitudinal profile plot from the flowline_points feature classes of a stream reach taken from one or more surveys. This tool compares longitudinal profile plots from multiple surveys. It labels the plot using the features feature class along the x-axis.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox\\report\\_Longitudinal_Profile_Compare.R which calls the R function fluvgeo::compare_long_profile.\nParameters - This tool contains the following parameters:\n\n\n\nLongitudinal Profile Compare Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nstream\nstring\nThe name of the stream reach.\nrequired\n\n\nflowline_points_1\nFeature Class\nPath to the flowline points feature class of the first survey.\nrequired\n\n\nflowline_points_2\nFeature Class\nPath to the flowline points feature class of the second survey.\noptional\n\n\nflowline_points_3\nFeature Class\nPath to the flowline points feature class of the third survey.\noptional\n\n\nflowline_points_4\nFeature Class\nPath to the flowline points feature class of the fourth survey.\noptional\n\n\nsurvey_name_1\nstring\nThe label to use for the first survey.\nrequired\n\n\nsurvey_name_2\nstring\nThe label to use for the second survey.\noptional\n\n\nsurvey_name_3\nstring\nThe label to use for the third survey.\noptional\n\n\nsurvey_name_4\nstring\nThe label to use for the fourth survey.\noptional\n\n\nfeatures_fc\nFeature Class\nA stream reach features feature class.\nrequired\n\n\nprofile_units\nstring\nThe units of the longitudinal profile.\nrequired\n\n\n\n\n\n\n\n\n\n\nGraph - Longitudinal Profile Compare Tool.\n\n\n\n\n\n\n\nGraph - XS Longitudinal Profile Compare\nTool in progress.\n\n\nMap - Reach Overview\nPurpose - This tool produces a reach overview map figure from a flowline and a regular cross section or a riffle cross section feature class.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/report/_Reach_Overview_Map.R which calls the R function fluvgeo::map_reach_overview.\nParameters - This tool contains the following parameters:\n\n\n\nReach Overview Map Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nflowline\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\ncross_section\nFeature Class\nPath to a cross section feature class.\nrequired\n\n\nxs_label_freq\ndouble\nAn integer indicating the frequency of cross section labels.\nrequired\n\n\nbackground\nstring\nThe type of map background. One of “aerial” or “elevation”.\nrequired\n\n\nexaggeration\ndouble\nThe degree of terrain exaggeration.\nrequired\n\n\nextent_factor\ndouble\nThe amount the extent is expanded around the cross section feature class. Values greater than one zoom out, values less than one zoom in.\nrequired\n\n\n\n\n\n\n\n\n\n\nMap - Reach Overview Tool.\n\n\n\n\n\n\nReport - L1\nPurpose - This tool produces the Level 1 Report using these instructions from the user manual.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/report/_Level_1_Report.R which calls the R function fluvgeo::level_1_report.\nParameters - This tool contains the following parameters:\n\n\n\nReach Overview Map Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nstream\nstring\nThe name of the stream reach.\nrequired\n\n\nflowline_fc\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\nxs_dimensions_fc\nFeature Class\nThe path to a Level 1 cross section dimensions feature class.\nrequired\n\n\nflowline_points_1\nFeature Class\nPath to the flowline points feature class of the first survey.\nrequired\n\n\nflowline_points_2\nFeature Class\nPath to the flowline points feature class of the second survey.\noptional\n\n\nflowline_points_3\nFeature Class\nPath to the flowline points feature class of the third survey.\noptional\n\n\nflowline_points_4\nFeature Class\nPath to the flowline points feature class of the fourth survey.\noptional\n\n\nxs_points_1\nFeature Class\nThe path to a cross section points feature class for the first time period.\nrequired\n\n\nxs_points_2\nFeature Class\nThe path to a cross section points feature class for the second time period.\noptional\n\n\nxs_points_3\nFeature Class\nThe path to a cross section points feature class for the third time period.\noptional\n\n\nxs_points_4\nFeature Class\nThe path to a cross section points feature class for the fourth time period.\noptional\n\n\nsurvey_name_1\nstring\nThe label to use for the first survey.\nrequired\n\n\nsurvey_name_2\nstring\nThe label to use for the second survey.\noptional\n\n\nsurvey_name_3\nstring\nThe label to use for the third survey.\noptional\n\n\nsurvey_name_4\nstring\nThe label to use for the fourth survey.\noptional\n\n\nfeatures_fc\nFeature Class\nA stream reach features feature class.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nshow_xs_map\nboolean\nAdd the cross section maps to the report?\nrequired\n\n\nprofile_units\nstring\nThe units of the longitudinal profile.\nrequired\n\n\naerial\nboolean\nDisplay an overview map with an aerial photo background?\nrequired\n\n\nelevation\nboolean\nDisplay an overview map with an elevation background?\nrequired\n\n\nxs_label_freq\ndouble\nAn integer indicating the frequency of cross section labels.\nrequired\n\n\nexaggeration\ndouble\nThe degree of terrain exaggeration.\nrequired\n\n\nextent_factor\ndouble\nThe amount the extent is expanded around the cross section feature class. Values greater than one zoom out, values less than one zoom in.\nrequired\n\n\noutput_dir\nFolder\nThe path to the folder in which to write the report.\nrequired\n\n\noutput_format\nstring\nThe file format of the report. One of “html_document”, “word_document”, “pdf_document”.\nrequired\n\n\n\n\n\n\n\n\n\n\nLevel 1 Report.\n\n\n\n\n\n\nReport - L2 Estimate Bankfull\nPurpose - This tool produces the Estimate Bankfull Report using these instructions from the user manual.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/report/_Estimate_Bankfull.R.\nParameters - This tool contains the following parameters:\n\n\n\nEstimate Bankfull Report Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nstream\nstring\nThe name of the stream reach.\nrequired\n\n\nflowline_fc\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\nxs_dims_fc\nFeature Class\nThe path to a riffle_channel_dims_L2 feature class.\nrequired\n\n\nxs_points_ch_1\nFeature Class\nThe path to the riffle_channel_points feature class for the first time period.\nrequired\n\n\nxs_points_ch_2\nFeature Class\nThe path to the riffle_channel_points feature class for the second time period.\noptional\n\n\nxs_points_ch_3\nFeature Class\nThe path to the riffle_channel_points feature class for the third time period.\noptional\n\n\nxs_points_ch_4\nFeature Class\nThe path to the riffle_channel_points feature class for the fourth time period.\noptional\n\n\nxs_points_fp_1\nFeature Class\nThe path to the riffle_floodplain_points feature class for the first time period.\nrequired\n\n\nxs_points_fp_2\nFeature Class\nThe path to the riffle_floodplain_points feature class for the second time period.\noptional\n\n\nxs_points_fp_3\nFeature Class\nThe path to the riffle_floodplain_points feature class for the third time period.\noptional\n\n\nxs_points_fp_4\nFeature Class\nThe path to the riffle_floodplain_points feature class for the fourth time period.\noptional\n\n\nsurvey_name_1\nstring\nThe label to use for the first survey.\nrequired\n\n\nsurvey_name_2\nstring\nThe label to use for the second survey.\noptional\n\n\nsurvey_name_3\nstring\nThe label to use for the third survey.\noptional\n\n\nsurvey_name_4\nstring\nThe label to use for the fourth survey.\noptional\n\n\nfeatures_fc\nFeature Class\nA stream reach features feature class.\nrequired\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nshow_xs_map\nboolean\nAdd the cross section maps to the report?\nrequired\n\n\nregions\nstring value list\nThe regions that a dimension will be\nrequired\n\n\nfrom_elevation\ndouble\nThe detrended elevation (in feet) to begin calculating Goodness of Fit (GOF) measures.\nrequired\n\n\nto_elevation\ndouble\nThe detrended elevation (in feet) to end calculating Goodness of Fit (GOF) measures.\nrequired\n\n\nby_elevation\ndouble\nThe detrended elevation (in feet) to step by for calculating Goodness of Fit (GOF) measures.\nrequired\n\n\nbf_estimate\ndouble\nThe detrended bankfull elevation (in feet) that is used to calculate hydraulic geometry.\nrequired\n\n\nstat\nstring\nThe statistic to graph “RMSE”, “MAE” (the default).\nrequired\n\n\nlabel_xs\nBoolean\nLabel cross sections?\nrequired\n\n\nprofile_units\nstring\nThe units of the longitudinal profile.\nrequired\n\n\naerial\nboolean\nDisplay an overview map with an aerial photo background?\nrequired\n\n\nelevation\nboolean\nDisplay an overview map with an elevation background?\nrequired\n\n\nxs_label_freq\ndouble\nAn integer indicating the frequency of cross section labels.\nrequired\n\n\nexaggeration\ndouble\nThe degree of terrain exaggeration.\nrequired\n\n\nextent_factor\ndouble\nThe amount the extent is expanded around the cross section feature class. Values greater than one zoom out, values less than one zoom in.\nrequired\n\n\noutput_dir\nFolder\nThe path to the folder in which to write the report.\nrequired\n\n\noutput_format\nstring\nThe file format of the report. One of “html_document”, “word_document”, “pdf_document”.\nrequired\n\n\n\n\n\n\n\n\n\n\nEstimate Bankfull Tool.\n\n\n\n\n\n\nReport - L2\nPurpose - This tool produces the Level 2 Report using these instructions from the user manual.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/report/_Level_2_Report.R which calls the R function fluvgeo::level_2_report.\nParameters - This tool contains the following parameters:\n\n\n\nLevel 2 Report Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nstream\nstring\nThe name of the stream reach.\nrequired\n\n\nflowline_fc\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\nxs_dims_fc\nFeature Class\nThe path to a riffle_channel_dims_L2 feature class.\nrequired\n\n\nxs_points_1\nFeature Class\nThe path to a cross section points feature class for the first time period.\nrequired\n\n\nxs_points_2\nFeature Class\nThe path to a cross section points feature class for the second time period.\noptional\n\n\nxs_points_3\nFeature Class\nThe path to a cross section points feature class for the third time period.\noptional\n\n\nxs_points_4\nFeature Class\nThe path to a cross section points feature class for the fourth time period.\noptional\n\n\nsurvey_name_1\nstring\nThe label to use for the first survey.\nrequired\n\n\nsurvey_name_2\nstring\nThe label to use for the second survey.\noptional\n\n\nsurvey_name_3\nstring\nThe label to use for the third survey.\noptional\n\n\nsurvey_name_4\nstring\nThe label to use for the fourth survey.\noptional\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nbanklines_fc\nFeature Class\nThe path to the banklines feature class.\nrequired\n\n\nfeatures_fc\nFeature Class\nA stream reach features feature class.\nrequired\n\n\nbf_estimate\ndouble\nThe detrended bankfull elevation (in feet) that is used to calculate hydraulic geometry.\nrequired\n\n\nregions\nstring value list\nThe regions that a dimension will be\nrequired\n\n\nlabel_xs\nBoolean\nLabel cross sections?\nrequired\n\n\nshow_xs_map\nboolean\nAdd the cross section maps to the report?\nrequired\n\n\nprofile_units\nstring\nThe units of the longitudinal profile.\nrequired\n\n\naerial\nboolean\nDisplay an overview map with an aerial photo background?\nrequired\n\n\nelevation\nboolean\nDisplay an overview map with an elevation background?\nrequired\n\n\nxs_label_freq\ndouble\nAn integer indicating the frequency of cross section labels.\nrequired\n\n\nexaggeration\ndouble\nThe degree of terrain exaggeration.\nrequired\n\n\nextent_factor\ndouble\nThe amount the extent is expanded around the cross section feature class. Values greater than one zoom out, values less than one zoom in.\nrequired\n\n\noutput_dir\nFolder\nThe path to the folder in which to write the report.\nrequired\n\n\noutput_format\nstring\nThe file format of the report. One of “html_document”, “word_document”, “pdf_document”.\nrequired\n\n\n\n\n\n\n\n\n\n\nLevel 2 Report.\n\n\n\n\n\n\n\nReport - L3\nPurpose - This tool produces the Level 3 Report using these instructions in the user manual.\nCode - This ArcGIS script tool calls the R script FluvialGeomorph-toolbox/report/_Level_3_Report.R which called the R function fluvgeo::level_3_report.\nParameters - This tool contains the following parameters:\n\n\n\nLevel 3 Report Tool Parameters.\n\n\n\n\n\n\n\n\nParameter\nType\nDescription\nRequired\n\n\n\n\nstream\nstring\nThe name of the stream reach.\nrequired\n\n\nflowline_fc\nFeature Class\nPath to the flowline feature class.\nrequired\n\n\nxs_fc\nFeature Class\nPath to a cross section feature class.\nrequired\n\n\nxs_points_1\nFeature Class\nThe path to a cross section points feature class for the first time period.\nrequired\n\n\nxs_points_2\nFeature Class\nThe path to a cross section points feature class for the second time period.\noptional\n\n\nxs_points_3\nFeature Class\nThe path to a cross section points feature class for the third time period.\noptional\n\n\nxs_points_4\nFeature Class\nThe path to a cross section points feature class for the fourth time period.\noptional\n\n\nsurvey_name_1\nstring\nThe label to use for the first survey.\nrequired\n\n\nsurvey_name_2\nstring\nThe label to use for the second survey.\noptional\n\n\nsurvey_name_3\nstring\nThe label to use for the third survey.\noptional\n\n\nsurvey_name_4\nstring\nThe label to use for the fourth survey.\noptional\n\n\ndem\nRaster Dataset\nPath to the digital elevation model (DEM).\nrequired\n\n\nbanklines_fc\nFeature Class\nThe path to the banklines feature class.\nrequired\n\n\nfeatures_fc\nFeature Class\nA stream reach features feature class.\nrequired\n\n\nbf_estimate\ndouble\nThe detrended bankfull elevation (in feet) that is used to calculate hydraulic geometry.\nrequired\n\n\nregions\nstring value list\nThe regions that a dimension will be\nrequired\n\n\nlabel_xs\nBoolean\nLabel cross sections?\nrequired\n\n\nshow_xs_map\nboolean\nAdd the cross section maps to the report?\nrequired\n\n\nprofile_units\nstring\nThe units of the longitudinal profile.\nrequired\n\n\naerial\nboolean\nDisplay an overview map with an aerial photo background?\nrequired\n\n\nelevation\nboolean\nDisplay an overview map with an elevation background?\nrequired\n\n\nxs_label_freq\ndouble\nAn integer indicating the frequency of cross section labels.\nrequired\n\n\nexaggeration\ndouble\nThe degree of terrain exaggeration.\nrequired\n\n\nextent_factor\ndouble\nThe amount the extent is expanded around the cross section feature class. Values greater than one zoom out, values less than one zoom in.\nrequired\n\n\noutput_dir\nFolder\nThe path to the folder in which to write the report.\nrequired\n\n\noutput_format\nstring\nThe file format of the report. One of “html_document”, “word_document”, “pdf_document”.\nrequired\n\n\n\n\n\n\n\n\n\n\nLevel 3 Report.\n\n\n\n\n\n\n\n04 - Symbology toolset\nThe purpose of this toolset is to hold the tools that standardize the symbolization of FluvialGeomorph datasets. Given the complexity of the datasets involved in this analysis, consistent symbolization improves interpretation and speeds analysis.\n\nBanklines\nApplies standard FluvialGeomorph symbology to the banklines feature class.\n\n\nContibuting Area\nApplies standard FluvialGeomorph symbology to the contributing_area feature class.\n\n\nCross Section\nApplies standard FluvialGeomorph symbology to the cross section feature classes (i.e., regular cross sections, riffle_floodplain and riffle_channel, and cross section dimensions).\n\n\nDEM\nApplies standard FluvialGeomorph symbology to the dem_hydro raster.\n\n\nFeatures\nApplies standard FluvialGeomorph symbology to the features feature class.\n\n\nFlowline\nApplies standard FluvialGeomorph symbology to the flowline feature class.\n\n\nFlowline Points\nApplies standard FluvialGeomorph symbology to the flowline_points feature class.\n\n\nLoop Points\nApplies standard FluvialGeomorph symbology to the loop_points feature class.\n\n\nValleyline\nApplies standard FluvialGeomorph symbology to the valleyline feature class.\n\n\n\n\n05 - Check toolset\nThe purpose of this toolset is to hold the tools used to check FluvialGeomorph features for some common, preventable errors.\n\nCheck Banklines\nThis ArcGIS script tool checks the banklines feature class using the R function fluvgeo::check_banklines.\n\n\nCheck Bankline Points\nThis ArcGIS script tool checks the bankline_points feature class using the R function fluvgeo::check_bankline_points.\n\n\nCheck Cross Section\nThis ArcGIS script tool checks the cross section feature classes (i.e., regular cross sections, riffle_floodplain and riffle_channel, and cross section dimensions) using the R function fluvgeo::check_cross_section.\n\n\nCheck Cross Section Points\nThis ArcGIS script tool checks the cross section points, *_points feature class using the R function fluvgeo::check_cross_section_points.\n\n\nCheck Features\nThis ArcGIS script tool checks the features feature class using the R function fluvgeo::check_cross_section_points.\n\n\nCheck Flowline\nThis ArcGIS script tool checks the flowline feature class using the R function fluvgeo::check_flowline.\n\n\nCheck Flowline Points\nThis ArcGIS script tool checks the flowline_points feature class using the R function fluvgeo::check_flowline_points.\n\n\nCheck Loop Points\nThis ArcGIS script tool checks the loop_points feature class using the R function fluvgeo::check_loop_points.\n\n\nCheck Valleyline\nThis ArcGIS script tool checks the valleyline feature class using the R function fluvgeo::check_valleyline.\n\n\n\n\n06 - Export toolset\nThe purpose of this toolset is to export the tabular data from geospatial datasets for further analysis.\n\nLevel 1\nThis ArcGIS script tool exports the tabular data from these Level 1 feature classes: flowline_points, regular cross sections, cross section points, and features.\n\n\nLevel 2\n\n\nLevel 3",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Toolbox</span>"
    ]
  },
  {
    "objectID": "2-4-Features.html",
    "href": "2-4-Features.html",
    "title": "8  Features",
    "section": "",
    "text": "FluvialGeomorph defines a standard set of feature classes that are used through the tool chain. The definition of a common set of derived features is an important step in standardizing the FluvialGeomorph workflow. These database objects form a tightly linked set of features that work together in a particular order to accomplish the analysis. They are presented here in the approximate order in which they are produced.\n\nStudy Area\nThe study_area polygon feature class is created manually by the analyst using these instructions from the user manual.\n\n\n\nStudy Area Fields.\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nnone\n\n\n\n1\n\n\n\n\n\n\n\nTerrain Model Raster\nThe GIS analyst follows these instructions from the user manual using standard ESRI geoprocessing tools to transform a LiDAR point cloud dataset covering the study area into an appropriately resolute (pixel cell size) digital elevation model (DEM). Only points representing the ground or water surface are selected from the point cloud to derive the terrain surface DEM. This raster dataset is named dem, but can also have a suffix added to represent its year of collection in change studies. Follow these instructions from\n\n\n\nDEM Raster Pixel Values.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nZ\n32 bit float\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\n\n\n\n\n\nCutlines\nThe cutlines polyline feature class is created manually by the analyst using these instructions from the user manual. The cutlines polyline feature class is used to store geometry needed to hydrologically modify a terrain model to ensure that water can accurately flow over the land surface as it does in the real world. LiDAR derived terrain models frequently contain flow blockages (e.g., road berms) that must be “cut-through” to represent the presence of flow structures (e.g., culverts, bridges) that cannot be resolved directly from the LiDAR terrain model.\n\n\n\nCutlines Fields.\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nnone\n\n\n\n1\n\n\n\n\n\n\n\nHydro Modified Raster\nBefore the dem terrain model raster can be used for synthetically deriving stream features, it must first be hydrologically modified using the cutlines feature class to “burn” flow paths into the dem raster. The 02 - Hydro DEM tool creates a “hydro-enforced” DEM named dem_hydro using these instructions from the user manual.\n\n\n\nHydro DEM Raster Pixel Values.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nZ\n32 bit float\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\n\n\n\n\n\nContributing Area Raster\nThe 03 - Contributing Area tool uses the dem_hydro raster to create a contributing_area raster whose values store the drainage area upstream of each pixel using these instructions from the user manual.\n\n\n\nContributing Area Raster Pixel Values.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\ncontributing_area\n32 bit float\nThe specific catchment area.\nlinear units of fc\n1\n\n\n\n\n\n\n\nFlow Accumulation Raster\nThe 03a - Contributing Area D8 tool is used to calculate the flow_accumulation_d8 raster whose values represent the number of upstream pixels using these instructions from the user manual.\n\n\n\nFlow Accumulation D8 Raster Pixel Values.\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\n\n\n\n\n\nFlow Direction Raster\nThe 03a - Contributing Area D8 tool is used to calculate the flow_direction_d8 raster whose values represent the direction of flow across each pixel using these instructions from the user manual.\n\n\n\nFlow Direction D8 Raster Pixel Values.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nflow_direction_d8\n32 bit float\nThe direction of flow from each cell to its downslope neighbor.\nD8 flow direction\n1\n\n\n\n\n\n\n\nStream Network\nThe 04 - Stream Network tool uses the contributing_area raster to derive a synthetic stream_network polyline feature class representing the stream network of the study area using these instructions from the user manual.\n\n\n\nStream Network Fields.\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\n\n\n\n\n\nStream Network Points\nThe 04a - Stream Network Points tool creates the stream_network_points point feature class to represent regularly spaced points along a stream_network feature class using these instructions from the user manual. These stream_network_points features are used to store elevation and route position (longitudinal stream stationing) information for a stream_network feature.\n\n\n\nStream Network Points Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\nPOINT_X\ndouble\nThe x-coordinate value (longitude).\nlinear units of fc\n1\n\n\nPOINT_Y\ndouble\nThe y-coordinate value (latitude).\nlinear units of fc\n1\n\n\nPOINT_M\ndouble\nThe m-coordinate value (route position).\nlinear units of fc\n1\n\n\nWatershed_Area_SqMile\ndouble\nThe upstream watershed drainage area.\nsquare miles\n1\n\n\nZ\ndouble\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\n\n\n\n\n\nGradient\nThe 04b - Slope and Sinuosity tool creates the gradient_* point feature class that calculates slope and sinuosity for a stream_network_points point feature class using these instructions in the user manual. The gradient_* point feature class is named using the moving window size specified.\n\n\n\nGradient Points Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\nPOINT_X\ndouble\nThe x-coordinate value (longitude).\nlinear units of fc\n1\n\n\nPOINT_Y\ndouble\nThe y-coordinate value (latitude).\nlinear units of fc\n1\n\n\nPOINT_M\ndouble\nThe m-coordinate value (route position).\nlinear units of fc\n1\n\n\nZ\ndouble\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\nz_smooth\ndouble\nThe smoothed z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\nupstream_x\ndouble\nThe x-coordinate value (longitude) of the next upsteam point in the moving window.\nlinear units of fc\n1\n\n\nupstream_y\ndouble\nThe y-coordinate value (latitude) of the next upsteam point in the moving window.\nlinear units of fc\n1\n\n\ndownstream_x\ndouble\nThe x-coordinate value (longitude) of the next downsteam point in the moving window.\nlinear units of fc\n1\n\n\ndownstream_y\ndouble\nThe y-coordinate value (latitude) of the next downsteam point in the moving window.\nlinear units of fc\n1\n\n\nupstream_z\ndouble\nThe z-coordinate value (elevation) of the next upstream point in the moving window.\nfeet, NAVD88\n1\n\n\ndownstream_z\ndouble\nThe z-coordinate value (elevation) of the next downstream point in the moving window.\nfeet, NAVD88\n1\n\n\nupstream_m\ndouble\nThe m-coordinate value (route position) of the next upstream point in the moving window.\nlinear units of fc\n1\n\n\ndownstream_m\ndouble\nThe m-coordinate value (route position) of the next downstreampoint in the moving window.\nlinear units of fc\n1\n\n\nrise\ndouble\nThe elevation difference between the downstream and upstream point in the moving window.\nfeet\n1\n\n\nrun\ndouble\nThe longitudinal distance along the stream network between the downstream and upstream point in the moving window.\nfeet\n1\n\n\nstream_length\ndouble\nThe longitudinal distance along the stream network between the downstream and upstream point in the moving window.\nfeet\n1\n\n\nvalley_length\ndouble\nThe longitudinal distance along the valleyline between the downstream and upstream stream network point in the moving window.\nfeet\n1\n\n\nsinuosity\ndouble\nThe sinuosity of the stream within the moving window (valley_length/stream_length).\n\n1\n\n\nsinuosity_gte_one\ndouble\nThe sinuosity metric, values greater than or equal to one.\n\n1\n\n\nslope\ndouble\nThe slope of the stream within the moving window (rise/run).\ndegree\n1\n\n\nslope_gte_zero\ndouble\nThe slope metric, values greater than of equal to zero.\ndegree\n1\n\n\n\n\n\n\n\nWatershed Points\nThe watershed_points feature class is manually created by the analyst using the stream_network_points feature class following these instructions from the user manual. The watershed_points point feature class is used to represent the downstream location of watersheds whose areal extent is to be calculated. These single points are sometimes referred to as “pour points” located along a stream network.\n\n\n\nWatershed Points Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\nPOINT_X\ndouble\nThe x-coordinate value (longitude).\nlinear units of fc\n1\n\n\nPOINT_Y\ndouble\nThe y-coordinate value (latitude).\nlinear units of fc\n1\n\n\nPOINT_M\ndouble\nThe m-coordinate value (route position).\nlinear units of fc\n1\n\n\nWatershed_Area_SqMile\ndouble\nThe upstream watershed drainage area.\nsquare miles\n1\n\n\nZ\ndouble\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\n\n\n\n\n\nWatershed\nThe 04c - Watershed tool creates the watershed polygon feature class and represent the drainage area upstream of a single point (aka “pour point”) located along a stream network. All pixels within each watershed polygon feature flow to the stream network point used to derive the watershed using these instructions from the user manual.\n\n\n\nWatershed Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\nShape_Area\ndouble\nThe area of the watershed.\nlinear units of fc\n1\n\n\n\n\n\n\n\nFlowline\nThe 05 - Flowline tool creates the flowline polyline feature class and is used to represent the likely flow path of a stream reach within a study area using these instructions from the user manual. This is the primary flow path feature used in the FluvialGeomorph toolbox. Since non-bathymetric LiDAR is often used to derive flowline features, this should not be interpreted as the thalweg when water is present in the DEM.\n\n\n\nFlowline Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\nfrom_measure\ndouble\nThe start longitudinal stationing value for the reach.\nkilometers\n1\n\n\nto_measure\ndouble\nThe end longitudinal stationing value for the reach.\nkilometers\n1\n\n\n\n\n\n\n\nFlowline Points\nThe 06 - Flowline Points tool creates the flowline_points point feature class and is used to represent regularly spaced points along a flowline feature class using these instructions from the user manual. These flowline_points features are used to store elevation and route position (longitudinal stream stationing) information for a flowline feature. flowline_points are used to calculate a series of stream longitudinal dimensions.\n\n\n\nFlowline Points Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\nPOINT_X\ndouble\nThe x-coordinate value (longitude).\nlinear units of fc\n1\n\n\nPOINT_Y\ndouble\nThe y-coordinate value (latitude).\nlinear units of fc\n1\n\n\nPOINT_M\ndouble\nThe m-coordinate value (route position).\n\n1\n\n\nZ\ndouble\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\n\n\n\n\n\nDetrended Raster\nThe 07 - Detrend DEM tool creates the detrend raster dataset using these instruction from the user manual. The detrend raster is an elevation model where the downstream slope of the dem_hydro has been removed.\n\n\n\nHydro DEM Raster Pixel Values.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\ndetrend_Z\n32 bit float\nThe detrended z-coordinate value (elevation).\nfeet, detrended\n1\n\n\n\n\n\n\n\nChannel Slope Raster\nThe 09 - Channel Slope tool creates the channel_slope raster using these instructions from the user manual. The channel_slope raster represents the slope of the dem_hydro within the channel. This is not to be confused with the longitudinal slope of the stream reach, but is the pixel-wise, raster surface slope of the channel area.\n\n\n\nChannel Slope Raster Pixel Values.\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nslope\n32 bit float\nThe terrain slope.\ndegree\n1\n\n\n\n\n\n\n\nCenterline\nThe 10 - Centerline tool creates the centerline polyline feature class using these instructions from the user manual. The centerline polyline feature class is used to represent a stream flow path that falls roughly equidistant between the banklines at bankfull water surface elevation.\n\n\n\nCenterline Fields.\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nnone\n\n\n\n2\n\n\n\n\n\n\n\nRegular Cross Sections\nThe 11 - XS Layout tool is used to create a regularly spaced cross section xs_* polyline feature class using these instructions from the user manual. Cross sections are polyline feature classes drawn perpendicular to the flowline feature and are long enough to extend across some portion of the channel and floodplain. Cross section features are used to define channel cross section dimensions. Regular cross sections are spaced equal distances longitudinally along the flowline. Regularly spaced cross sections are used to sample conditions within a stream reach to display a continuous series of values and calculate aggregate stream values.\n\n\n\nRegular Cross Section Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1\n\n\nSeq\nshort\nThe cross section unique identifier.\n\n1\n\n\nx_start\ndouble\nThe x-coordinate value at the start of the cross section.\nlinear units of fc\n1\n\n\ny_start\ndouble\nThe y-coordinate value at the start of the cross section.\nlinear units of fc\n1\n\n\nx_end\ndouble\nThe x-coordinate value at the end of the cross section.\nlinear units of fc\n1\n\n\ny_end\ndouble\nThe y-coordinate value at the end of the cross section.\nlinear units of fc\n1\n\n\nWatershed_Area_SqMile\ndouble\nThe upstream watershed drainage area.\nsquare miles\n1\n\n\nfrom_measure\ndouble\nThe start longitudinal stationing value for the reach.\nkilometers\n1\n\n\nto_measure\ndouble\nThe end longitudinal stationing value for the reach.\nkilometers\n1\n\n\nPOINT_X\ndouble\nThe x-coordinate value (longitude).\nlinear units of fc\n1\n\n\nPOINT_Y\ndouble\nThe y-coordinate value (latitude).\nlinear units of fc\n1\n\n\nPOINT_M\ndouble\nThe m-coordinate value (route position).\nlinear units of fc\n1\n\n\nZ\ndouble\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\nkm_to_mouth\ndouble\nThe distance to the mouth of the site.\nkilometers\n1\n\n\nloop\nlong\nThe loop number.\n\n3\n\n\nbend\nlong\nThe bend number.\n\n3\n\n\n\n\n\n\n\nRiffle Cross Sections\nRiffle cross sections (i.e., riffle_floodplain, riffle_channel) are a unique type of cross section manually drawn by the analyst within a riffle stream feature using these instructions from the user manual. In contrast to regularly spaced cross sections that are delineated by a script, riffles irregularly spaced along a stream and are manually drawn by a GIS analyst. Analysts are trained to identify riffles using a set of guidelines from the literature and interpretation of the DEM and aerial imagery. The riffle_floodplain polyline feature class is drawn longitudinally within riffle features and extend laterally across the active floodplain. The riffle_channel polyline feature class is also drawn longitudinally within riffle features, but only extend laterally across the bankfull channel area.\n\n\n\nRiffle Floodplain Riffle Channel Cross Section Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n2\n\n\nSeq\nshort\nThe cross section unique identifier.\n\n2\n\n\nWatershed_Area_SqMile\ndouble\nThe upstream watershed drainage area.\nsquare miles\n2\n\n\nfrom_measure\ndouble\nThe start longitudinal stationing value for the reach.\nkilometers\n2\n\n\nto_measure\ndouble\nThe end longitudinal stationing value for the reach.\nkilometers\n2\n\n\nPOINT_X\ndouble\nThe x-coordinate value (longitude).\nlinear units of fc\n2\n\n\nPOINT_Y\ndouble\nThe y-coordinate value (latitude).\nlinear units of fc\n2\n\n\nPOINT_M\ndouble\nThe m-coordinate value (route position).\nlinear units of fc\n2\n\n\nZ\ndouble\nThe z-coordinate value (elevation).\nfeet, NAVD88\n2\n\n\nkm_to_mouth\ndouble\nThe distance to the mouth of the site.\nkilometers\n2\n\n\nloop\nlong\nThe loop number.\n\n3\n\n\nbend\nlong\nThe bend number.\n\n3\n\n\n\n\n\n\n\nCross Section Points\nThe 14 - XS Points tool creates the *_points points feature class using these instructions from the user manual for Level 1 and Level 2. Cross sections polyline feature classes (i.e., regularly spaced cross sections and riffle cross sections: riffle_floodplain, riffle_channel) can be converted to a set of regularly spaced points along the cross section. These points are used to store elevation and route position (lateral stream stationing) information for a cross section feature class. Cross section points are used to calculate a series of cross section dimensions.\n\n\n\nCross Section Points Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n1,2\n\n\nSeq\nshort\nThe cross section unique identifier.\n\n1,2\n\n\nWatershed_Area_SqMile\ndouble\nThe upstream watershed drainage area.\nsquare miles\n1,2\n\n\nfrom_measure\ndouble\nThe start longitudinal stationing value for the reach.\nkilometers\n1,2\n\n\nto_measure\ndouble\nThe end longitudinal stationing value for the reach.\nkilometers\n1,2\n\n\nPOINT_X\ndouble\nThe x-coordinate value (longitude).\nlinear units of fc\n1,2\n\n\nPOINT_Y\ndouble\nThe y-coordinate value (latitude).\nlinear units of fc\n1,2\n\n\nPOINT_M\ndouble\nThe m-coordinate value (route position).\nlinear units of fc\n1,2\n\n\nPOINT_M_units\ntext\nThe units of the POINT_M field.\n\n1,2\n\n\nkm_to_mouth\ndouble\nThe distance to the mouth of the site.\nkilometers\n1,2\n\n\nDEM_Z\ndouble\nThe z-coordinate value (elevation).\nfeet, NAVD88\n1,2\n\n\ndem_units\ndouble\nThe units of theDEM_Z field.\n\n1,2\n\n\nDetrend_DEM_Z\ndouble\nThe z-coordinate value on the detrended raster.\nfeet, detrended\n1,2\n\n\nloop\nlong\nThe loop number.\n\n3\n\n\nbend\nlong\nThe bend number.\n\n3\n\n\n\n\n\n\n\nCross Section Dimensions\nCross section dimension polyline feature classes are used to store the hydraulic dimensions calculated for each cross section. Since the FluvialGeomorph workflow is divided into three levels, cross section dimensions are calculated at each level. Each level allows for an increasingly complex set of dimensions to be calculated, with each level building on the complexity of the previous level. There are three cross section dimension feature classes, one for each level *_dims_L1, *_dims_L2, and *_dims_L3. Cross section dimensions are calculated using the following tools:\n\nLevel 1 Dimensions - The 15a XS Dimensions, Level 1 tool creates the *_dims_L1 feature class using these instructions from the user manual.\nLevel 2 Dimensions - The 15b XS Dimensions, Level 2 tool creates the *_dims_L2 feature class using these instructions from the user manual for L2 Initial and L2 Final.\nLevel 3 Dimensions - The 15c XS Planform, Level 3 tool creates the *_dims_L3 feature class using these instructions from the user manual.\n\nCross section dimensions can be calculated for the various types of cross sections (regular cross sections or riffle cross sections). The name of the cross section feature for which dimensions were calculated is prepended to the output dimension feature class. Metrics calculated at previous levels are included in the attribute table of each dimension feature class. Therefore, to avoid repetition only the new fields calculated at each level are included in the tables of fields in this section. The attributes of the original cross section feature class are also omitted since they depend on the cross section type used.\n\n\n\nLevel 1 Cross Section Dimension Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nz_smooth\ndouble\nThe smoothed z-coordinate value (elevation).\nfeet, NAVD88\n1\n\n\nupstream_x\ndouble\nThe x-coordinate value (longitude) of the next upsteam cross section in the moving window.\nlinear units of fc\n1\n\n\nupstream_y\ndouble\nThe y-coordinate value (latitude) of the next upsteam cross section in the moving window.\nlinear units of fc\n1\n\n\ndownstream_x\ndouble\nThe x-coordinate value (longitude) of the next downsteam cross section in the moving window.\nlinear units of fc\n1\n\n\ndownstream_y\ndouble\nThe y-coordinate value (latitude) of the next downsteam cross section in the moving window.\nlinear units of fc\n1\n\n\nupstream_z\ndouble\nThe z-coordinate value (elevation) of the next upstream cross section in the moving window.\nfeet, NAVD88\n1\n\n\ndownstream_z\ndouble\nThe z-coordinate value (elevation) of the next downstream cross section in the moving window.\nfeet, NAVD88\n1\n\n\nupstream_m\ndouble\nThe m-coordinate value (route position) of the next upstream cross section in the moving window.\nlinear units of fc\n1\n\n\ndownstream_m\ndouble\nThe m-coordinate value (route position) of the next downstream cross section in the moving window.\nlinear units of fc\n1\n\n\nrise\ndouble\nThe elevation difference between the downstream and upstream cross section in the moving window.\nfeet\n1\n\n\nrun\ndouble\nThe longitudinal distance along the flowline between the downstream and upstream cross sections in the moving window.\nfeet\n1\n\n\nstream_length\ndouble\nThe longitudinal distance along the flowline between the downstream and upstream cross sections in the moving window.\nfeet\n1\n\n\nvalley_length\ndouble\nThe longitudinal distance along the valleyline between the downstream and upstream cross sections in the moving window.\nfeet\n1\n\n\nsinuosity\ndouble\nThe sinuosity of the stream within the moving window (valley_length/stream_length).\n\n1\n\n\nsinuosity_gte_one\ndouble\nThe sinuosity metric, values greater than or equal to one.\n\n1\n\n\nslope\ndouble\nThe slope of the stream within the moving window (rise/run).\ndegree\n1\n\n\nslope_gte_zero\ndouble\nThe slope metric, values greater than of equal to zero.\ndegree\n1\n\n\n\n\n\n\n\n\nLevel 2 Cross Section Dimension Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nbankfull_elevation\ndouble\nThe detrended elevation of the water surface at bankfull discharge.\nfeet, detrended\n2\n\n\ndrainage_area\ndouble\nThe upstream watershed drainage area.\nsquare miles\n2\n\n\nxs_area\ndouble\nThe cross sectional area at the estimated bankfull water surface elevation.\nsquare feet\n2\n\n\nxs_width\ndouble\nThe cross section width at the estimated bankfull water surface elevation.\nsquare feet\n2\n\n\nxs_depth\ndouble\nThe cross section depth at the estimated bankfull water surface elevation.\nsquare feet\n2\n\n\ndischarge\ndouble\nThe stream discharge.\ncubic m/s\n2\n\n\nfp_area\ndouble\nThe cross sectional area at the estimated floodprone water surface elevation.\nsquare feet\n2\n\n\nfp_width\ndouble\nThe cross section width at the estimated floodprone water surface elevation.\nfeet\n2\n\n\nfp_depth\ndouble\nThe cross sectional depth at the estimated floodprone water surface elevation.\nfeet\n2\n\n\nxs_width_depth_ratio\ndouble\nThe width to depth ratio.\n\n2\n\n\nxs_width_depth_ratio_gte_one\ndouble\nThe width to depth ratio metric, gteater than or equal to one.\n\n2\n\n\nxs_entrenchment_ratio\ndouble\nThe entrenchment ratio.\n\n2\n\n\nxs_entrenchment_ratio_gte_one\ndouble\nThe entrenchment ratio metric, greater than or equal to one.\n\n2\n\n\nwatersurface_elev\ndouble\nThe as-measured water surface elevation.\nfeet, NAVD88\n2\n\n\nbankfull_elev\ndouble\nThe estimated bankfull water surface elevation.\nfeet, NAVD88\n2\n\n\nfloodprone_elev\ndouble\nThe estimated floodprone water surface elevation.\nfeet, NAVD88\n2\n\n\nxs_mean_depth\ndouble\nThe cross section mean depth at the estimated bankfull water surface elevation.\nfeet\n2\n\n\nshear_stress_density\ndouble\nThe fluid shear stress, calculated using the density of water.\nkg/m^2\n2\n\n\nshear_stress_density_gte_zero\ndouble\nThe fluid shear stress density metric, greater than or equal to zero.\nkg/m^2\n2\n\n\nshear_stress_weight\ndouble\nThe fluid shear stress, calculated using the specific weight of water.\nlb/ft^2\n2\n\n\nshear_stress_weight_gte_zero\ndouble\nThe fluid shear stress specific weight metric, greater than or equal to zero.\nlb/ft^2\n2\n\n\nshear_stress_lane\ndouble\nThe fluid shear stress, calculated using the Lane’s Balance method.\n\n2\n\n\nshear_stress_lane_gte_zero\ndouble\nThe fluid shear stress Lane’s metric, greater than or equal to zero.\n\n2\n\n\nunit_stream_power\ndouble\nThe unit stream power.\nkg/m/s\n2\n\n\nunit_stream_power_gte_zero\ndouble\nThe unit stream power metric, greater than or equal to zero.\nkg/m/s\n2\n\n\n\n\n\n\n\n\nLevel 3 Cross Section Dimension Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nbend_num\ndouble\nThe bend number.\n\n3\n\n\nbend_POINT_X\ndouble\nThe x-coordinate value (longitude) of the center of the bend.\nlinear units of fc\n3\n\n\nbend_POINT_Y\ndouble\nThe y-coordinate value (latitude) of the center of the bend.\nlinear units of fc\n3\n\n\nloop_POINT_X\ndouble\nThe x-coordinate value (longitude) of the center of the loop.\nlinear units of fc\n3\n\n\nloop_POINT_Y\ndouble\nThe y-coordinate value (latitude) of the center of the loop.\nlinear units of fc\n3\n\n\nbend_radius\ndouble\nThe radius of the bend.\nlinear units of fc\n3\n\n\nmeander_length\ndouble\nThe meander length.\nfeet\n3\n\n\nmeander_width\ndouble\nThe meander width.\nfeet\n3\n\n\nrc_bfw_ratio\ndouble\nThe radius of curvature to bankfull width ratio.\n\n3\n\n\nrc_bfw_ratio_lte_30\ndouble\nThe radius of curvature to bankfull width ratio less than or equale to 30.\n\n3\n\n\nmbw_bfw_ratio\ndouble\nThe meander bend width to bankfull width ratio.\n\n3\n\n\nmbw_bfw_ratio_lte_30\ndouble\nThe meander bend width to bankfull width ratio less than or equal to 30.\n\n3\n\n\n\n\n\n\n\nBankfull Area\nThe 08 - Water Surface Extent tool is used to create the bankfull_area polygon feature class using these instructions from the user manual. The bankfull_area polygon feature class represents the channel area typically inundated during bankfull events. The detrend raster dataset is used to interactively “flood” the channel to define this extent.\n\n\n\nBankfull Area Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nId\nlong\nThe polygon unique identifier.\n\n2\n\n\ngridcode\nlong\nIndicates if a polygon is innundated at the specified detrended elevation (1 = innundated, 0 = not innundated).\n\n2\n\n\nShape_Area\ndouble\nArea of the polygon.\nlinear units of fc\n2\n\n\n\n\n\n\n\nBanklines\nThe banklines feature class is manually created from the bankfull_area using these instructions from the user manual. The banklines polyline feature class represents the stream banks at bankfull. The edge of the bankfull_area polygon features are used to create to banklines, one representing the left descending bank and another the right descending bank.\n\n\n\nBanklines Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n2\n\n\nbank_id\nlong\nBankline numeric unique identifier.\n\n2\n\n\nbank\ntext\nBankline text unique identifier (one of “left descending” or “right descending”).\n\n2\n\n\nfrom_measure\ndouble\nThe start longitudinal stationing value for the bankline.\n\n2\n\n\nto_measure\ndouble\nThe end longitudinal stationing value for the bankline.\n\n2\n\n\n\n\n\n\n\nBankline Points\nThe 14b - Bankline Points tool creates the bankline_points point feature class using these instructions in the user manual. The bankline_points point feature class is a set of regularly spaced point features located along each banklines feature. These points are used to store elevation and route position (longitudinal bankline stationing) information for each bankline.\n\n\n\nBankline Points Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n3\n\n\nbank_id\nlong\nBankline numeric unique identifier.\n\n3\n\n\nbank\ntext\nBankline text unique identifier (one of “left descending” or “right descending”).\n\n3\n\n\nbank_POINT_X\ndouble\nThe x-coordinate value (longitude) of the bankline point.\nlinear units of fc\n3\n\n\nbank_POINT_Y\ndouble\nThe y-coordinate value (latitude) of the bankline point.\nlinear units of fc\n3\n\n\nbank_POINT_M\ndouble\nThe m-coordinate value (route position) of the bankline point.\nlinear units of fc\n3\n\n\nDEM_Z\ndouble\nThe z-coordinate value (elevation) of the bankline point.\nfeet, NAVD88\n3\n\n\nloop\nlong\nThe loop number.\n\n3\n\n\nbend\nlong\nThe bend number.\n\n3\n\n\nposition\ntext\nThe planform location indicator. Indicates if a bankline point represents the “start” of a loop bend, the “end” of a loop bend, or the “apex” of a loop.\n\n3\n\n\nvalley_POINT_X\ndouble\nThe x-coordinate value (longitude) of the closest point on the valley line.\nlinear units of fc\n3\n\n\nvalley_POINT_Y\ndouble\nThe y-coordinate value (latitude) of the closest point on the valley line.\nlinear units of fc\n3\n\n\nvalley_POINT_M\ndouble\nThe m-coordinate value (route position) of the closest point on the valley line.\nlinear units of fc\n3\n\n\n\n\n\n\n\nValleyline\nThe valleyline is created using these instructions from the user manual. The valleyline polyline feature class represents the trend line of the down-valley axis. It bisects stream meanders as the stream swings from side to side across its floodplain.\n\n\n\nValleyline Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n3\n\n\nfrom_measure\ndouble\nThe start longitudinal stationing value for the reach.\nkilometers\n3\n\n\nto_measure\ndouble\nThe end longitudinal stationing value for the reach.\nkilometers\n3\n\n\n\n\n\n\n\nLoop Points\nThe loop_points point feature class is manually created by the analyst using these instructions from the user manual. The loop_points point feature class is used to store the longitudinal extents of loops and bends used for planform analysis. Within the FluvialGeomorph toolbox, the term “loop” is defined as a single meander as it swings across the valleyline. Moving downstream along a single loop, once the stream swings substantially across the valleyline, another loop begins. The point of maximum distance of a flowline from the valeyline (laterally across the floodplain) defines a loop “apex”. Moving to a finer scale, “bends” are defined as stream undulations within a particular loop. Therefore, a single loop may contain many bends. These loop and bend extents and loop apices are used to calculate a set of planform dimensions.\n\n\n\nLoop Points Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nReachName\ntext\nName of the reach.\n\n3\n\n\nloop\nlong\nThe loop number.\n\n3\n\n\nbend\nlong\nThe bend number.\n\n3\n\n\nposition\ntext\nThe planform location indicator. Indicates if a bankline point represents the “start” of a loop bend, the “end” of a loop bend, or the “apex” of a loop.\n\n3\n\n\n\n\n\n\n\nFeatures\nThe features point feature class is created manually by the analyst using these instructions in the user manual. The features point feature class is used to identify and label key stream features and their longitudinal position. Instances of features typically include relevant tributaries, localities, and infrastructure built within the floodplain affecting flow.\n\n\n\nFeatures Fields.\n\n\n\n\n\n\n\n\n\nField Name\nType\nDescription\nUnits\nLevel\n\n\n\n\nName\ntext\nName of the stream feature.\n\n1\n\n\nkm_to_mouth\ndouble\nThe distance to the mouth of the site.\nkilometers\n1",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Features</span>"
    ]
  },
  {
    "objectID": "2-5-Reports.html",
    "href": "2-5-Reports.html",
    "title": "9  Reports",
    "section": "",
    "text": "FluvialGeomorph produces a series of reports that help to define stream conditions.\n\nGraph - Longitudinal Profile Compare\nThis graph is produced using the Graph - Longitudinal Profile Compare tool.\n\n\n\n\n\nLongitudinal Profile Plot.\n\n\n\n\n\n\nReport - L1\nPurpose - The Level 1 Report contains a set of maps and graphs that describe the channel as measured from the LiDAR derived DEM. This report is produced using the Report - L1 tool using these instructions from the user manual.\nCode - This report is created by the R Markdown parameterized report in the R package fluvgeo/reports/level_1_report.Rmd.\nThis report contains the following sections:\n\nStudy Area Overview - This section provides an overview of the study area reach.\n\nReach Overview Map - A reach overview map displaying cross section locations over an aerial image and/or a medium resolution DEM with multi-direction shaded relief. This figure is produced by the R function fluvgeo::map_reach_overview.\n\nLongitudinal Profile - This section displays the elevation (y-axis) of the stream reach along its length (x-axis) beginning from the downstream end of the reach moving upstream (typically referred to as a longitudinal profile).\n\nLongitudinal Profile - This longitudinal profile graph is created from the flowline_points feature class for several surveys if available. This figure is produced by the R function fluvgeo::compare_long_profile.R.\n\nXS Longitudinal Profile - This longitudinal profile graph is created using a regular cross sections feature class. This figure is produced by the R function fluvgeo::compare_xs_long_profile.\n\nCross Section Metrics - This section displays metrics for the cross sections of a stream reach.\n\nCross Section Metrics Plot, Level 1 - This stream reach metrics graph displays the Level 1 metrics on a faceted graph. This figure is produced by the R function fluvgeo::xs_metrics_plot_L1.\n\nCross Section Profiles - This section displays a focused view of the characteristics of each individual cross section in the stream reach.\n\nCross Section Map - This map displays the extent of a single cross section in plan view with a DEM background. This figure is produced by the R function fluvgeo::map_xs.\nCross Section Profile Compare Plot - This graph displays a single regularly spaced cross section in profile view comparing the elevations from multiple surveys if provided. This figure is produced by the R function fluvgeo::xs_compare_plot_L1.\n\n\n\n\n\n\n\nLevel 1 Report.\n\n\n\n\n\n\n\nReport - L2 Estimate Bankfull\nPurpose - The Estimate Bankfull Report is used to help estimate the bankfull water surface elevation for an ungaged stream with the assistance of regional curves and visual observation of geomorphic indicators from LiDAR surveys. This report is produced using the Report - L2 Estimate Bankfull tool using these instructions from the user manual.\nCode - This report is created by the R Markdown parameterized report in the R package fluvgeo/reports/estimate_bankfull_report.Rmd.\nThis report contains the follow sections:\n\nStudy Area Overview - This section provides an overview of the study area reach.\n\nReach Overview Map - A reach overview map displaying cross section locations over an aerial image and/or a medium resolution DEM with multi-direction shaded relief. This figure is produced by the R function fluvgeo::map_reach_overview.\n\nBankfull Elevation Sensitivity Analysis - This section performs a sensitivity analysis of the directly measured reach-wide channel dimensions compared to the regional curve estimated channel dimensions.\n\nBankfull Elevation Goodness of Fit Graph - This graph is used to identify how similar this reach’s dimensions are compared to dimensions from several other regions at the current bankfull estimate. This figure is produced by the R function fluvgeo::gof_graph.\nBankfull Elevation Dimensions by Region Table - This table summarizes this reach’s dimensions compared to several other regions at the current bankfull elevation. This table is created by code in the Estimate Bankfull Report, fluvgeo/reports/estimate_bankfull_report.Rmd\nRegional Hydraulic Geometry Curves Graph - This graph displays the channel dimensions of each cross section in the reach, along with the regional curve estimated dimensions. This figure is produced by the R function fluvgeo::reach_rhg_graph.\n\nLongitudinal Profile - This section displays the elevation (y-axis) of the stream reach along its length (x-axis) beginning from the downstream end of the reach moving upstream (typically referred to as a longitudinal profile).\n\nXS Longitudinal Profile - This longitudinal profile graph is created using a riffle_channel feature class for the survey used to generate the bankfull estimate. This figure is produced by the R function fluvgeo::xs_profile_plot.\n\nCross Section Metrics - This section displays metrics the Level 2 metrics for the riffle cross sections of a stream reach.\n\nCross Section Metrics Plot, Level 2 - This stream reach metrics graph displays the Level 2 metrics on a faceted graph. This figure is produced by the R function fluvgeo::xs_metrics_plot_L2.\n\nCross Section Profiles - This section displays a focused view of the characteristics of each individual cross section in the stream reach.\n\nCross Section Map - This map displays the extent of a single cross section in plan view with a high resolution DEM background. This figure is produced by the R function fluvgeo::map_xs.\nFloodplain XS Profile Compare Plot - This graph displays a single riffle_floodplain feature in a wide aspect ratio profile view to compare the elevations from multiple surveys if provided. This figure is produced by the R function fluvgeo::xs_compare_plot_L2.\nChannel XS Profile Compare Plot - This graph displays a single riffle_channel feature in a square aspect ratio profile view to compare the elevations from multiple surveys if provided. This figure is produced by the R function fluvgeo::xs_compare_plot_L2.\nBankfull Elevation Dimensions by Region Table - This table summarizes this cross section’s dimensions compared to several other regions at the current bankfull elevation. This table is created by code in the Estimate Bankfull Report, fluvgeo/reports/estimate_bankfull_report.Rmd.\n\n\n\n\n\n\n\nLevel 2, Estimate Bankfull Report.\n\n\n\n\n\n\n\nReport - L2\nPurpose - The Level 2 Report contains a set of maps and graphs that describe the Level 2 channel dimensions calculated at the specified bankfull elevation, estimated using the L2 Estimate Bankfull Report. This report is produced using the Report - L2 tool using these instructions from the user manual.\nCode - This report is created by the R Markdown parameterized report in the R package fluvgeo/reports/level_2_report.Rmd.\nThis report contains the following sections:\n\nStudy Area Overview - This section provides an overview of the study area reach.\n\nReach Overview Map - A reach overview map displaying cross section locations over an aerial image and/or a medium resolution DEM with multi-direction shaded relief. This figure is produced by the R function fluvgeo::map_reach_overview.\n\nLongitudinal Profile - This section displays the elevation (y-axis) of the stream reach along its length (x-axis) beginning from the downstream end of the reach moving upstream (typically referred to as a longitudinal profile).\n\nXS Longitudinal Profile - This longitudinal profile graph is created using a Level 2 cross section dimensions feature class for the survey used to generate the bankfull estimate. This figure is produced by the R function fluvgeo::xs_profile_plot.\n\nCross Section Metrics - This section displays metrics for the Level 2 dimensions calculated for the regular cross sections of a stream reach.\n\nCross Section Metrics Plot, Level 2 - This stream reach metrics graph displays the Level 2 metrics on a faceted graph. This figure is produced by the R function fluvgeo::xs_metrics_plot_L2.\nWidth Depth Ratio Map - A reach overview map is used to display the width depth ratio values at each cross section for the reach. The width depth ratio parameters (i.e., metric definition, class break values and labels) are defined in this report using the R S4 class FluvialGeomorphicMetric. This figure is produced by the R function fluvgeo::map_reach_metric.\nWidth Depth Ratio Graph - This graph displays the width depth ratio values (y-axis) of the stream along its length (x-axis) beginning from the downstream end of the reach moving upstream longitudinally. This graph uses the metric class definition for width depth ratio defined for the previous figure. This figure is produced by the R function fluvgeo::xs_metric_plot.\nRegional Hydraulic Geometry Curves Graph - This graph displays the channel dimensions of each cross section in the reach, along with the regional curve estimated dimensions. This figure is produced by the R function fluvgeo::reach_rhg_graph.\n\nCross Section Profiles - This section displays a focused view of the characteristics of each individual cross section in the stream reach.\n\nCross Section Map - This map displays the extent of a single cross section in plan view with a high resolution DEM background. This figure is produced by the R function fluvgeo::map_xs.\nRegular XS Profile Compare Plot - This graph displays a single *_L2_dims feature in a wide aspect ratio profile view to compare the elevations from multiple surveys if provided. This figure is produced by the R function fluvgeo::xs_compare_plot_L2.\nBankfull Elevation Dimensions by Region Table - This table summarizes this cross section’s dimensions compared to several other regions at the current bankfull elevation. This table is created by code in the L2 Report, fluvgeo/reports/level_2_report.Rmd.\n\n\n\n\n\n\n\nLevel 2 Report.\n\n\n\n\n\n\n\nReport - L3\nPurpose - The Level 3 Report contains a set of maps and graphs that describe the Level 3 channel dimensions calculated at the specified bankfull elevation, estimated using the L2 Estimate Bankfull Report. This report is produced using the Report - L3 tool using these instructions from the user manual.\nCode - This report is created by the R Markdown parameterized report in the R package fluvgeo/reports/level_3_report.Rmd.\nThis report contains the following sections:\n\nStudy Area Overview - This section provides an overview of the study area reach.\n\nReach Overview Map - A reach overview map displaying cross section locations over an aerial image and/or a medium resolution DEM with multi-direction shaded relief. This figure is produced by the R function fluvgeo::map_reach_overview.\n\nLongitudinal Profile - This section displays the elevation (y-axis) of the stream reach along its length (x-axis) beginning from the downstream end of the reach moving upstream (typically referred to as a longitudinal profile).\n\nXS Longitudinal Profile - This longitudinal profile graph is created using a Level 3 cross section dimensions feature class for the survey used to generate the bankfull estimate. This figure is produced by the R function fluvgeo::xs_profile_plot.\n\nCross Section Metrics - This section displays metrics for the Level 3 dimensions calculated for the regular cross sections of a stream reach.\n\nCross Section Metrics Plot, Level 3 - This stream reach metrics graph displays the Level 3 metrics on a faceted graph. This figure is produced by the R function fluvgeo::xs_metrics_plot_L3.\nWidth Depth Ratio Map - A reach overview map is used to display the width depth ratio values at each cross section for the reach. The width depth ratio parameters (i.e., metric definition, class break values and labels) are defined in this report using the R S4 class FluvialGeomorphicMetric. This figure is produced by the R function fluvgeo::map_reach_metric.\nWidth Depth Ratio Graph - This graph displays the width depth ratio values (y-axis) of the stream along its length (x-axis) beginning from the downstream end of the reach moving upstream longitudinally. This graph uses the metric class definition for width depth ratio defined for the previous figure. This figure is produced by the R function fluvgeo::xs_metric_plot.\nRadius of Curvature to Bankfull Width Map - A reach overview map is used to display the radius of curvature to bankfull width ratio values at each cross section for the reach. The radius of curvature to bankfull width ratio parameters (i.e., metric definition, class break values and labels) are defined in this report using the R S4 class FluvialGeomorphicMetric. This figure is produced by the R function fluvgeo::map_reach_metric.\nRadius of Curvature to Bankfull Width Graph - This graph displays the radius of curvature to bankfull width ratio values (y-axis) of the stream along its length (x-axis) beginning from the downstream end of the reach moving upstream longitudinally. This graph uses the metric class definition for radius of curvature to bankfull width ratio defined for the previous figure. This figure is produced by the R function fluvgeo::xs_metric_plot.\nRegional Hydraulic Geometry Curves Graph - This graph displays the channel dimensions of each cross section in the reach, along with the regional curve estimated dimensions. This figure is produced by the R function fluvgeo::reach_rhg_graph.\n\nCross Section Profiles - This section displays a focused view of the characteristics of each individual cross section in the stream reach.\n\nCross Section Map - This map displays the extent of a single cross section in plan view with a high resolution DEM background. This figure is produced by the R function fluvgeo::map_xs.\nRegular XS Profile Compare Plot - This graph displays a single *_L3_dims feature in a wide aspect ratio profile view to compare the elevations from multiple surveys if provided. This figure is produced by the R function fluvgeo::xs_compare_plot_L2.\nBankfull Elevation Dimensions by Region Table - This table summarizes this cross section’s dimensions compared to several other regions at the current bankfull elevation. This table is created by code in the L3 Report, fluvgeo/reports/level_3_report.Rmd.\n\n\n\n\n\n\n\nLevel 3 Report.",
    "crumbs": [
      "Tools",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Reports</span>"
    ]
  },
  {
    "objectID": "3-1-Workflows.html",
    "href": "3-1-Workflows.html",
    "title": "10  Workflows",
    "section": "",
    "text": "Developing Regional Curves",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Workflows</span>"
    ]
  },
  {
    "objectID": "3-1-Workflows.html#watershed-analysis",
    "href": "3-1-Workflows.html#watershed-analysis",
    "title": "10  Workflows",
    "section": "Watershed Analysis",
    "text": "Watershed Analysis",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Workflows</span>"
    ]
  },
  {
    "objectID": "3-1-Workflows.html#channel-cross-sectional-change",
    "href": "3-1-Workflows.html#channel-cross-sectional-change",
    "title": "10  Workflows",
    "section": "Channel Cross Sectional Change",
    "text": "Channel Cross Sectional Change",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Workflows</span>"
    ]
  },
  {
    "objectID": "3-1-Workflows.html#longitudinal-profile-change",
    "href": "3-1-Workflows.html#longitudinal-profile-change",
    "title": "10  Workflows",
    "section": "Longitudinal Profile Change",
    "text": "Longitudinal Profile Change",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Workflows</span>"
    ]
  },
  {
    "objectID": "3-2-CreateTerrain.html",
    "href": "3-2-CreateTerrain.html",
    "title": "11  Create Terrain",
    "section": "",
    "text": "Define Study Area\nThe purpose of this step is to define the location and extent of the study area. FluvialGeomorph project study areas are typically of three types, distinguished by their extent:",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Create Terrain</span>"
    ]
  },
  {
    "objectID": "3-2-CreateTerrain.html#define-study-area",
    "href": "3-2-CreateTerrain.html#define-study-area",
    "title": "11  Create Terrain",
    "section": "",
    "text": "Small Reach - Required by projects analyzing a problem at a specific location. These project study areas are typically defined by a single point location, often representing a piece of built infrastructure (e.g., bridge, culvert, stream crossing, dam, revetment, gage, etc.) or specific stream feature (e.g., stream confluence, bank failure, severe bed erosion, oxbow cutoff, etc.). Analysis of these problems usually only requires examining a fixed distance up and down stream of the feature of interest. This distance up and down stream is determined by the scale of the driving factors.\n\nLong Reach - Required by projects analyzing a problem that spans a long set of connected stream reaches. These projects study areas are typically defined by several miles of stream, possibly including tributaries to the primary reach being analyzed.\nWatershed - Required by projects analyzing watershed scale problems. FluvialGeomporh analysis of all streams in watersheds ranging in size from 1-3 HUC12 watersheds is feasible.\n\n\nCreate Study Area Geodatabases\nThe purpose of this step is to create a folder structure to store the the study area elevation data. Sub-folders will be created to store the terrain data for each available LiDAR survey. Initially, you will not know what LiDAR surveys exist for your study area until you begin your search for data described below. You will repeat the following steps for each LiDAR survey that exists for this project study area. The elevation data for each LiDAR survey will be processed separately and a synthetic stream network will be derived for each LiDAR survey independently. You will begin processing the data for the base year LiDAR survey first, then work backward in time to process earlier LiDAR surveys in reverse chronological order. Several analysis steps require the base year data to be processed first. For some tools, surveys prior to the base year use the base year data as inputs. This is done to express earlier surveys in terms of the base year for comparison purposes.\nUse the following steps to organize the project working directory:\n\nCreate a new folder on a local workstation drive. Name it for the project study area.\nWithin the project study area folder create an Elevation folder.\nWithin the Elevation folder, create folders to store the data for each LiDAR survey.\nName each folder using the project name and suffixed with the LiDAR survey year (_&lt;LiDAR survey 4-digit year&gt;).\nWithin each LiDAR survey folder, create a new folder named LAS. This will be used in later steps if needed to store and process the raw LiDAR data for each survey.\nWithin each LiDAR survey folder, create a new LiDAR survey file geodatabase.\nName each file geodatabase using the project name and suffixed with the LiDAR survey year (_&lt;LiDAR survey 4-digit year&gt;).\nUse the following folder structure to organize the terrain data:\n\nProject_Name\n└─── Elevation\n│    └─── ProjectName_Year1\n│    │    └─── LAS\n│    │    ProjectName_Year1.gdb\n│    └─── ProjectName_Year2\n│    |    └─── LAS\n│    |    ProjectName_Year2.gdb\n│    └─── ProjectName_Year3\n│         └─── LAS\n│         ProjectName_Year3.gdb\n│         ...\n└─── Exports\n└─── Maps\n\n\nDefine Study Area Coordinate System\nThe purpose of this step is to choose a horizontal and vertical coordinate system for all of the vector and raster datasets created in this project. Using the same coordinate system for all project datasets helps avoid errors introduced by input datasets containing differing coordinate systems, particularly incorrect handling of datums and units. The horizontal and vertical coordinate systems that you select will be used for all datasets created for this project. It is the analyst’s responsibility to ensure that each dataset in this project uses these specified horizontal and vertical coordinate systems. Each dataset imported into a project geodatabase must be projected into the project horizontal and vertical coordinate systems.\n\nHorizontal Coordinate Systems - FluvialGeomorph currently supports any projected coordinate system with linear units of meter, feet, or US survey feet. Geographic coordinate systems (angular units, e.g., “Lat-Lon”) are not supported.\n\nVertical Coordinate Systems - FluvialGeomporh currently only supports vertical coordinate systems with units of feet. Since most LiDAR is currently delivered in the NAVD 88 vertical datum, it is recommended to use NAVD 88 for consistency. The analyst must be sure that the raster DEMs created for analysis in this chapter have vertical units of feet. Instructions for converting raster DEM values from meters to feet are included below.\n\n\n\nDefine Study Area Longitudinal Extent\nThe purpose of this step is to help define an initial study area longitudinal extent. This step will use existing, medium resolution hydrography to help establish the rough extent of the study area. The feature classes imported in this step will be used only as an initial coarse-scale representation of the study reaches to facilitate early study area definition. This study will derive high resolution definitions of study reaches.\n\nOpen the National Map Viewer in a web browser.\nIn the National Map Viewer, zoom to the extent of the project study area.\nFrom the toolbar, open the Layer List panel.\nOn the Layer List panel, toggle-on the visibility of the National Hydrography Dataset (NHD).\nUnder the National Hydrography Dataset, toggle-off the visibility of all other NHD datasets except the Flowline - Large Scale layer. Note, you must zoom in to a fine enough scale for this layer to be visible.\nFrom the toolbar, open the Select panel. To begin, make all layers unselectable.\nScroll down to the Flowline - Large Scale layer and check the box to select features from this layer.\nIn the map panel, draw a rectangle around the extent of the NHD Flowline that represents your project area.\nOn the Select panel, click the “three dot” menu of the Flowline - Large Scale layer. Select the Export to GeoJSON option and save the export file in the ProjectName_Year1 folder.\nOpen ArcGIS Pro and create a new project, saving it to the \\Project_Name\\Maps folder.\nIn ArcGIS Pro, use the JSON to Features tool to convert the exported NHD Flowline JSON features into the ProjectName_Year1.gdb file geodatabase.\nUse the Data Management Project tool to project (verb) the imported NHD Flowline features to the chosen project (noun) coordinate system. Name the re-projected feature class NHD_Flowline.\nEdit the extent of the NHD_Flowline feature class to match the desired extent of the project study area.\n\n\n\nDefine Study Area Areal Extent\nThe purpose of this step is to create a rough bounding polygon of the project study area. This polygon should define the “must-have” extent for both communicating the extent of the study area, as well as helping to define the area within which to acquire elevation data. This extent only needs to cover the extent of the stream to be analyzed and does not need to include the entire contributing area of the analysis reaches.\n\nIn ArcGIS Pro, in the ProjectName_Year1.gdb file geodatabase, create a new feature class using the following parameters:\n\nName: study_area\nFeature Class Type: polygon\nField: Project, text 50\nHorizontal Coordinate System: project horizontal coordinate system\nVertical Coordinate System: project vertical coordinate system\n\nEdit the extent of this polygon to outline the extent of the study area.\nEnsure that full extent of the project study area floodplain is included within the extent of the study_area polygon feature class.\nSet the value of the study_area Project field to the name of the study area.\n\n\n\nDetermine Study Area Contributing Watershed\nThe purpose of this step is to define the rough contributing area of the project study area. The contributing area polygon derived in this step is almost always larger than the study_area polygon, unless analyzing small headwater reaches or an entire headwater watershed.\n\nOpen the National Map Viewer in a web browser.\nIn the National Map Viewer, zoom to the extent of the project study area.\nFrom the toolbar, open the Layer List panel.\nOn the Layer List panel, toggle-on the visibility of the National Hydrography Dataset (NHD).\nUnder the National Hydrography Dataset, toggle-off the visibility of all other NHD datasets except the Flowline - Large Scale and Flowline - Small Scale layer.\nOn the Layer List panel, toggle-on the visibility of the Watershed Boundary Dataset (WBD).\nWhile zoomed to the extent of your project area NHD_Flowline feature class, identify the smallest scale WBD Hydrologic Unit (HU) feature that defines the headwaters of your project area reach. For most small streams, this is typically a HUC12, while medium size streams may require multiple HUC12 watersheds or a possibly a HUC10 watershed.\nFrom the toolbar, open the Select panel. To begin, make all layers unselectable.\nScroll down to the xx-digit HU (xxx) layer (based on the HU you identified in the previous step) and check the box to select features from this layer.\nIn the map panel, draw a rectangle around the extent of the WBD HUs that represents the upstream drainage area of your project reach.\nOn the Select panel, click the “three dot” menu of the xx-digit HU (xxx) layer chosen. Select the Export to GeoJSON option and save the export file in the ProjectName_Year1 folder.\nIn ArcGIS Pro, use the JSON to Features tool to convert the exported WBD HU JSON features into the ProjectName_Year1.gdb file geodatabase.\nUse the Data Management Project tool to project (verb) the imported WBD HU features to the chosen project (noun) coordinate system. Name the re-projected feature class WBD_HU.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Create Terrain</span>"
    ]
  },
  {
    "objectID": "3-2-CreateTerrain.html#acquire-contributing-area-watershed-elevation-model",
    "href": "3-2-CreateTerrain.html#acquire-contributing-area-watershed-elevation-model",
    "title": "11  Create Terrain",
    "section": "Acquire Contributing Area Watershed Elevation Model",
    "text": "Acquire Contributing Area Watershed Elevation Model\nThe purpose of this step is to acquire an existing, pre-made DEM of the entire study area contributing watershed. This DEM will help determine the following parameters:\n\nDetermine if an existing, pre-made DEM will serve for this FluvialGeomorph analysis.\nDerive high resolution project study area watershed extents.\nCalculate reach scale drainage area. The coverage of this DEM should cover the entire upstream contributing watershed of the study area.\n\nMultiple LiDAR Surveys\nSince the study area watershed boundaries are unlikely to have changed between LiDAR surveys, it is unnecessary to acquire the entire watershed elevation model for LiDAR survey dates prior to the base year. Only the watershed elevation model representing the base year needs to be acquired.\n\nOpen the National Map Viewer in a web browser.\nClick the “Data Download” link at the top of the map viewer. This will open the TNM Download app.\nIn the TNM Download app, in the map panel, zoom to the extent of the project study area.\nOn the Datasets tab, under the Data section, check the box next to the Elevation Products (3DEP). Choose the 1 meter DEM option.\nUnder the Area of Interest section, choose the Polygon tool, and in the map panel draw a polygon that covers the WBD_HU feature class created in the previous step.\n\nUnder the Advanced Search section, click the Search Products button. This will display a set of search results on the Products tab.\nMouse-over each of the returned datasets to verify the areal coverage and collection date. Only the most recent survey date is needed.\nDetermine which datasets are needed for full coverage of the project study area. Click the Add to Cart button to add the required datasets to your cart.\nOn the Cart tab, use the download link to download each dataset individually if there are only a small number of datasets.\nIf there are many DEMs to download, use the uGet Download Manager app to automate the download process. Use the CSV button to download a .csv file of the cart items. Use uGet to process the .csv file to complete the download.\n\n\nMosaic pre-made DEMs\nThe purpose of this step is to combine the pre-made, coarse-scale DEMs into a single DEM covering the project study area contributing watershed area.\n\n\nDetermine if the pre-made DEM has sufficient resolution\n\n\nVerify that the DEM elevations are in feet\n\n\nCreate a hillshade to improve visualization",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Create Terrain</span>"
    ]
  },
  {
    "objectID": "3-2-CreateTerrain.html#develop-high-resolution-elevation-model",
    "href": "3-2-CreateTerrain.html#develop-high-resolution-elevation-model",
    "title": "11  Create Terrain",
    "section": "Develop High Resolution Elevation Model",
    "text": "Develop High Resolution Elevation Model\nThe purpose of this DEM is to derive a detailed stream terrain model that meets the resolution requirements of the study.\n\nDownload LiDAR point cloud data\n\n\nBuild a DEM from LiDAR point cloud data\n\n\nVerify that the DEM elevations are in feet\n\n\nCreate a hillshade to improve visualization",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Create Terrain</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html",
    "href": "3-3-Level-1.html",
    "title": "12  Level 1 Workflow",
    "section": "",
    "text": "Hydro Modify DEM\nThe purpose of this step is to create a hydro-modified DEM to ensure proper water flow across the study area.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#hydro-modify-dem",
    "href": "3-3-Level-1.html#hydro-modify-dem",
    "title": "12  Level 1 Workflow",
    "section": "",
    "text": "Identify Flow Blockages\nThe purpose of this step is to develop a cutlines feature class representing flow blockages in the study area.\n\nExamine the stream channel to be analyzed through the study area and determine if there are any blockages to flow in the DEM.\nFocus only on flow blockages within the main channel of the study reaches. Flow blockages outside of the the channels of the study reaches do not need to be identified for FluvialGeomorph analysis.\nThese blockages are typically built infrastructure such as road embankments where streams are conveyed through culverts or underground storm water structures.\nIf there are flow blockages in the study area reach channels, create a new line feature class named cutlines to store terrain modifications that remove flow blockages. This feature class must be in the same coordinate system as the DEM being modified.\nIn an edit session, identify human structures that block flow along the channel of the stream reach being studied.\nDraw a cutline beginning at the upstream side of the blockage to a point just downstream of the blockage.\nThe start point and end point of the cutline must cover the area to be modified.\nThe downstream end of this cutline must be located in “good data”, because the lowest DEM value found along this line will be used to re-assign DEM values to all DEM pixels covered by the cutline.\n\n\n\nBurn cutlines into the terrain\nThe purpose of this step is to remove flow blockages from the terrain.\n\nUse the 02 - Hydro DEM tool to “burn” the cutlines features into the study area watershed DEM. This tool creates the dem_hydro raster. Rename this DEM watershed_dem_hydro.\nUse the 02 - Hydro DEM tool to “burn” the cutlines features into the high resolution DEM. This tool creates the dem_hydro raster.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#define-stream-reaches",
    "href": "3-3-Level-1.html#define-stream-reaches",
    "title": "12  Level 1 Workflow",
    "section": "Define Stream Reaches",
    "text": "Define Stream Reaches\nThe purpose of this stage is to synthetically derive from the terrain the study area reaches and their watersheds.\n\nCalculate Contributing Area\nThe purpose of this step is to calculate the contributing drainage area for each pixel in the DEM.\n\nUse the 03a - Contributing Area D8 tool to calculate the contributing area for the study area watershed. This tool creates the contributing_area raster. Rename this DEM watershed_contributing_area.\nUse the 03a - Contributing Area D8 tool to calculate the contributing area for the high resolution DEM. If created, use the dem_hydro raster as input.\n\nThe processes parameter of the 03a - Contributing Area D8 tool can be safely set to approximately 2 less than the number of cores on the computer running the tool.\n\n\n\nDerive Stream Network\nThe purpose of this step is to derive a synthetic vector stream network from the DEM for the study area.\n\nUse the high resolution DEM to derive the stream network.\nUse the 04 - Stream Network tool to create a synthetic stream network from the hydro-modified DEM. The processes parameter can be safely set to approximately 2 less than the number of cores on the computer running the tool.\nThe threshold parameter should be set to a value of 200,000 to 500,000 depending on the study area.\n\nIf the resulting stream_network feature class is too dense (requiring a large amount of editing to remove extraneous tributaries), try rerunning the tool and increasing the threshold value. Conversely, if the resulting stream_network feature class is too sparse (not enough of the stream network was delineated), try rerunning the tool and decreasing the threshold value.\n\nEdit the resulting stream_network feature class to remove all tributary streams that do not constitute the network that will be analyzed in this study.\n\nEdit the stream_network feature class to ensure that stream segments are represented by a single line and that there are no gaps in the steam network.\n\n\n\nCalculate Slope and Sinuosity\nThe purpose of this step is to examine the stream network slope and sinuosity to help make decisions about how best to define study reaches.\n\nUse the 04a - Stream Network Points tool to convert the stream_network feature class into the stream_networks_points feature class.\n\nDetermine the moving window size\nSlope and sinuosity are scale dependent metrics. This means that these metrics are affected by the size of the upstream moving window used in their calculation. To determine the appropriate size of this moving window for this study area, use the following steps:\n\nIt is recommended that slope and sinuosity be calculated using a moving window size equal to two meander wavelengths.\nEstimate a rough initial bankfull width for the reach. Use the DEM to examine several representative locations throughout the study area.\nEstimate the length of two meander wavelengths by multiplying the rough bankfull width by 10 (e.g., 30ft bankfull width * 10 = 300ft, two meander wavelengths).\n\nDetermine how many stream_networks_points two meander wavelengths represent. For example, if stream_networks_points are spaced 1m apart on average, then two meander wavelengths would be 91 points (i.e., 300ft / 3.28084ft per m).\n\nCalculate Slope and Sinuosity\n\nUse the 04b - Slope and Sinuosity tool to calculate the slope and sinuosity of the stream_networks_points feature class.\nSet the gradient_distance parameter to the number of upstream stream_networks_points that you calculated in a previous step.\nIf the elevations in the channel seem noisy, check the use_smoothing parameter and set the loess_span parameter to a value between 0-1.\n\nConfirm the degree of smoothing\n\nUse a chart to verify the choice of the smoothing loess_span parameter.\nRight-click on the gradient_* feature class in the map Table of Contents and select “Create Chart”, and select “Line”. In the Date or Number dropdown, choose the field POINT_M. In the Aggregation dropdown, choose None. In the Numeric field(s) checklist, check the boxes next to Z and Z_smooth. Click the Apply button to view the chart.\nVisually assess the degree of smoothing. The smoothing should be high enough to eliminate LiDAR elevation noise, but not so high as to eliminate meaningful channel elevation change.\nIf the smoothing is not ideal, re-run the tool and adjust the loess_span parameter.\n\n\n\nDefine Reaches\nThe purpose of this step is to segment the stream network into a set of sites and reaches that can be analyzed in more detail through the remainder of the study. The stream_network must be sub-divided into a set of sites and reaches that meet the following requirements:\nCriteria for Creating Sites:\n\nA project study area composed of several sub-watersheds will need to be divided into a set of sites.\nSites within a project area are typically named tributaries that are the next hierarchical level beneath the project.\n\nCriteria for Creating Reaches:\n\n“Major” tributaries should be used to divide a site into reaches. How big of an increase in drainage area/discharge constitutes a major tributary depends on the size of the watershed and physiographic region.\nA specific reach should contain a range of similar drainage area values.\nSlope and sinuosity can be considered in the decision to subdivide a reach.\nBuilt infrastructure may be used to divide reaches (e.g., dams, major roads).\nStudy objectives may drive the definition of reaches (e.g., economic benefits analysis, existing project reach definition).\nThe distribution of the slope and sinuosity values along the stream network may help determine the natural breaks in the stream network.\n\nUsing the criteria chosen from the list above, use the standard ESRI edit tools to subdivide the stream_network feature class into a set of features representing the reaches of your study.\n\nManually edit the stream_network feature class to modify the geometry to create a set of features representing the study area sites and reaches.\n\nSet the ReachName field to the value to be used to uniquely define sites and reaches throughout the remainder of the study.\nReach names are typically created using the site name and adding a suffix for the reach (e.g., R1, R2, etc.).\nSite names are typically defined by the primary tributary name.\nBe deliberate with the naming of sites and reaches as these names are used for all operations by each tool.\n\n\n\nDelineate Watersheds\nThe purpose of this step is to delineate the areal extent of watersheds for each reach in the study area.\n\nIn the stream_network_points feature class, select points that represent the downstream location of each of the sites in the project study area.\nExport these point features to a new feature class named watershed_points in the study area geodatabase.\nUse the 04c - Watershed tool to create a watershed polygon for each feature in the watershed_points feature class.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#derive-flowline",
    "href": "3-3-Level-1.html#derive-flowline",
    "title": "12  Level 1 Workflow",
    "section": "Derive Flowline",
    "text": "Derive Flowline\nThe purpose of this stage is to create a new site geodatabase, derive the site flowline, create new reach geodatabases for each reach, and copy the flowline to each reach’s geodatabase.\n\nCreate the site geodatabase\nThe purpose of this step is to create a new site geodatabase and populate it with initial data.\n\nIn the study area folder, begin by creating a new site folder named for the site.\n\nIn the new site folder, create a new “Data” folder.\nIn the new site data folder, create a new site geodatabase for each LiDAR survey. In the example above, the Papillion Creek project study area will be subdivided into a specific site called Cole Creek. Since there are multiple LiDAR surveys for this study area (e.g., 2016, 2010, 2006), three site geodatabases will need to be created.\n\nCole_Creek_2016.gdb\n\nCole_Creek_2010.gdb\n\nCole_Creek_2006.gdb\n\nBack in the study area geodatabase, select the features in the stream_network feature class representing the current site. Use the “Data | Export Features” function to export the selected site features to the new site geodatabase. Name the exported feature class stream_network.\nExamine the dem_hydro raster and determine the maximum width of the active floodplain along the entire site. Be conservative with this estimate. Given its later use, it is important to generously overestimate this value.\nUse this maximum floodplain width estimate to buffer the reach stream_network feature class and name it stream_network_buffer.\nUse the ESRI Clip Raster tool to clip the study area geodatabase dem_hydro to the extent of the reach using the stream_network_buffer feature class. Save the clipped raster to the reach geodatabase and name it dem_hydro_&lt;buffer distance&gt; (e.g., dem_hydro_1000 for a buffer distance of 1000 meters).\nUse the ESRI Clip Raster tool to clip the study area geodatabase contributing_area to the extent of the reach using the stream_network_buffer feature class. Save the clipped raster to the reach geodatabase and name it contributing_area_&lt;buffer distance&gt; (e.g., contributing_area_1000 for a buffer distance of 1000 meters).\n\nIf you discover in later steps that the buffer distance was underestimated, you will need to repeat this step with a wider buffer.\n\n\n\nCreate the Flowline\nThe purpose of this step is to derive the site flowline. The 05 - Flowline tool converts a stream_network feature into a flowline feature class. This tool smooths the stream_network geometry and converts the flowline into a route.\n\nUse the 05 - Flowline tool to process the site stream_network feature class to produce a new flowline feature class.\nSet the output_workspace parameter to the site geodatabase.\nUse a smooth_tolerance parameter value from 5-20. The goal is to produce a smooth flowline, but not to remove too much resolution from the line.\nEnsure that the flowline remains in the channel and is not simplified into the floodplain. If this occurs, rerun reducing the degree of smoothing.\nEdit the flowline feature class to ensure that the flowline is digitized beginning with the downstream end and digitized upstream.\nIn an edit session, select the flowline feature, choose to edit vertices, and ensure that the red endpoint is at the upstream end of the flowline.\nIf not, use the “Reverse Direction” (aka flip) command to ensure the flowline is digitized in the upstream direction.\n\nIt is critical that the flowline is digitized in the upstream direction. If this step is not performed, all subsequent tools will malfunction.\n\n\n\nCreate the Reach Geodatabase\nThe purpose of this step is to create a set of new reach geodatabases for each reach in a site and populate these reach geodatabases with initial data. This step will need to be repeated for each reach AND survey in the project study area site. For example, if a site has five reaches (e.g., R1-R5) and three LiDAR surveys (e.g., 2016, 2010, 2006), then a total of 15 reach geodatabases must be created at this stage:\n\nReach Geodatabases Required for a Site with 5 Reaches and 3 LiDAR Surveys.\n\n\n2016\n2010\n2006\n\n\n\n\ny2016_R1.gdb\ny2010_R1.gdb\ny2006_R1.gdb\n\n\ny2016_R2.gdb\ny2010_R2.gdb\ny2006_R2.gdb\n\n\ny2016_R3.gdb\ny2010_R3.gdb\ny2006_R3.gdb\n\n\ny2016_R4.gdb\ny2010_R4.gdb\ny2006_R4.gdb\n\n\ny2016_R5.gdb\ny2010_R5.gdb\ny2006_R5.gdb\n\n\n\n\nIn the site data folder, create a new reach geodatabase named for the reach. Use the ReachName value for the name of this new reach file geodatabase.\nReach names are typically created using the site name and adding a suffix for the reach (e.g., R1, R2, etc.).\nBack in the site geodatabase, select the feature in the flowline feature class representing the current study reach. Use the “Data | Export Features” function to export the selected reach feature to the new reach geodatabase. Name the exported feature class flowline.\nEnsure this new reach geodatabase version of flowline contains only one feature representing the current reach.\nEnsure that the ReachName field contains the correct name for the reach. As this reach name value is used throughout the toolbox, it is extremely important to ensure this value is used consistently across all feature classes for this reach. Failure to be consistent with the ReachName value will lead to lots of errors that are difficult to troubleshoot. Get it right from the beginning.\n\n\n\nCreate Flowline Points\nThe purpose of this step is convert the flowline into a series of points along the reach. The 06 - Flowline Points tool takes the flowline feature class, converts it to a route, calculates the distance to the mouth of the river for all vertices, and creates a flowline_points feature class.\n\nUse the 06 - Flowline Points tool to convert the flowline feature class into a new feature class named flowline_points.\nSet the station_distance field to approximately 1 meter.\nFor a site with multiple reaches, set the km_to_mouth parameter for the downstream-most reach to 0.\nSet the km_to_mouth parameter for each upstream reach to the upstream-most value (i.e., the highest km_to_mouth value of the downstream reach’s flowline_points feature class) of the downstream reach. For example, set the km_to_mouth of the Reach-2 flowline_points feature class to 1.2345 if the maximum value of Reach-1’s flowline_points feature class km_to_mouth field is 1.2345.\nThe goal is that longitudinal stationing within a site containing multiple reaches should be sequential and unique throughout the site (i.e., lower station values at the bottom of the site and higher station values at the top of the site). This allows reach feature classes to be combined after reach-level analysis is complete.\nThe calibration_points, point_id_field, and measure_field parameters can be left blank when processing the base year.\n\nMultiple Surveys\nTo make LiDAR surveys collected before the base year directly comparable to the base year, the flowline from each previous survey must be calibrated to the base year. This adjusts any changes in flowline planform between survey events to be expressed in terms of the base year longitudinal stationing.\n\nIf multiple LiDAR surveys exist for a project study area, the flowline_points for any previous LiDAR survey must be calibrated using the flowline_points of the base year.\nFor example, if 2016 is the base year, when deriving the flowline_points for a LiDAR survey from 2010, the base year’s flowline_points (2016) must be used for the 06 - Flowline Points tool’s calibration_points parameter value.\nSet the point_id_field and measure_field parameters to the fields in the base year’s flowline_points feature class.\nSet the search_radius parameter to the maximum distance between the flowline of the current survey and the base year flowline.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#define-initial-floodplain-and-channel-extent",
    "href": "3-3-Level-1.html#define-initial-floodplain-and-channel-extent",
    "title": "12  Level 1 Workflow",
    "section": "Define Initial Floodplain and Channel Extent",
    "text": "Define Initial Floodplain and Channel Extent\nThe purpose of this stage is to define the initial floodplain and channel extent, for each reach and survey event.\n\nDetrend DEM\nThe purpose of this step is to produce a detrended DEM. A detrended DEM normalizes stream bank elevations for a specific reach.\n\nInspect the reach to determine the width of the active floodplain. Use the measure tool to measure from the flowline outward to the widest extent of the active floodplain. This value will be used as the buffer_distance value in the following step.\n\nUse the 07 - Detrend tool to create a detrend detrended DEM for the study reach. Set the buffer_distance field to a distance wide enough to capture the reach’s entire active floodplain.\n\n\n\nEstimate Initial Channel Extent\nThe purpose of this step is to use the detrended DEM to visually extract an initial channel extent polygon. The detrend DEM created in the last step can be used to iteratively explore different inundation extents derived from various water surface elevations.\n\nAdd the detrend raster to the map Table of Contents. Name this layer Channel Extent.\nOn the Symbology tab of the Channel Extent layer, use the Classified renderer to classify the raster into 2 classes. Set the first class boundary to the detrended elevation that you would like to explore. Set the color of the first class (min value - detrended elevation) to blue and the color of the second class (detrended elevation - max value) to No Color.\nSet the transparency of the Channel Extent layer to 50%.\nBegin to delineate the channel extent by selecting a detrended elevation that inundates the channel up to at least the first terrace. The goal at this stage is to select a detrended elevation that captures the extent of the channel without “spilling” too much water into the floodplain. Once you discover which detrended elevation begins to allow water to access the floodplain, reduce the detrended elevation value slightly to keep the water in the channel. Try several detrended elevation values to help make the decision.\nWhen you have chosen a detrended elevation, use the 08 - Water Surface Extent tool to extract an initial channel extent area polygon. This tool creates a new polygon feature class named banks_raw_xxx, where xxx is the detrended elevation selected.\nThis feature class must be edited to select the channel area polygon(s). Open the attribute table for the banks_raw_xxx feature class and use advanced sorting to sort first by gridcode and then by Shape_Area. Polygons with gridcode = 1 are polygons inundated at the detrended elevation. Typically, the polygons with the largest area represent the channel. Begin selecting gridcode = 1 polygons with the largest area until the entire channel area is selected.\nExport these selected features to a new feature class named initial_channel_extent.\nDelete the banks_raw_xxx feature class created in this section.\n\n\n\nCreate the Initial Channel Mask layer\nThe purpose of this step is to create a layer that defines an area just beyond the initial channel extent.\n\nAdd the detrend feature class to the map Table of Contents. Name this layer Channel Mask.\nIn the symbology of this layer, change the renderer from stretched to classified. Set the number of classes to 2. In the classification dialog, set the break value between the two classes to about one to two feet higher than the initial bankfull extent estimate. A couple of feet above the initial bankfull extent estimate should define the extent of the just the channel. For example, if the initial bankfull extent was estimated at 102 detrended feet, the initial bankfull height estimate would be 2 feet. One foot higher than the 2 foot initial bankfull height estimate would therefore be 103 detrended feet.\nSet the transparency of the Channel Mask layer to 50%.\n\n\n\nEstimate Initial Floodplain Extent\nThe purpose of this step is to create a layer that defines the an initial estimate of the floodplain inundation extent.\n\nAdd the detrend feature class to the map Table of Contents. Name this layer Floodplain Mask.\nIn the symbology of this layer, change the renderer from stretched to classified. Set the number of classes to 2. In the classification dialog, set the break value between the two classes to four times the initial bankfull extent estimate. Four times the initial bankfull extent estimate should define the extent of the active floodplain. For example, if the initial bankfull extent was estimated at 102 detrended feet, the initial bankfull height estimate would be 2 feet. Four times the 2 foot initial bankfull height estimate would therefore be 108 detrended feet.\nSet the transparency of the Floodplain Mask layer to 50%.\n\n\n\nCalculate Channel Slope Raster\nThe purpose of this step is to create a channel slope raster that can be used in the visual identification of riffle locations in following step.\n\nUse the 09 - Channel Slope tool to calculate a raster of the channel slope. Use the intitial_channel_extent polygon created earlier to define the channel area within which the slope raster will be calculated. This tool creates a new feature class named channel_slope.\n\n\n\nCreate Initial Centerline\nThe purpose of this step is to create a stream centerline. The centerline represents the rough midline of the stream between the banklines.\n\nUse the 10 - Centerline tool to create a centerline polyline feature class representing the stream midline at the estimated bankfull water surface elevation using the initial_channel_extent feature class.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#create-regular-cross-section-geometry",
    "href": "3-3-Level-1.html#create-regular-cross-section-geometry",
    "title": "12  Level 1 Workflow",
    "section": "Create Regular Cross Section Geometry",
    "text": "Create Regular Cross Section Geometry\nThe purpose of this stage is to create regularly spaced stream cross sections and extract terrain-derived hydraulic parameters for each reach and survey event.\n\nCreate Regular Cross Sections\nThe purpose of this step is to create regularly spaced cross sections along each reach.\n\nThe goal of this step is to create a set of regularly spaced cross sections that well represent the channel conditions found in this reach.\nDetermine the typical maximum distance from the reach flowline to the edge of the active floodplain. The goal is not to identify the maximum distance to the edge of the floodplain, but to identify the typical distance to the edge of the floodplain.\nDetermine the spacing between cross sections necessary to represent conditions along this stream. Cross section spacing for small stream of 50-100 feet works well. Larger rivers do not require such tight spacing.\nUse the 11 - XS Layout tool to create a set of regularly spaced cross sections (referred to as transects in this tool). Use the values determined in the previous steps to set this tool’s parameters.\nFor a site with multiple reaches, regular cross sections must be uniquely numbered across all reaches. The Seq field values of regular cross sections should not repeat within the reaches of a site.\nThe downstream-most cross section in the site should be numbered starting with the Seq field value of 1 and increase moving upstream.\nThe 11 - XS Layout tool automatically numbers regular cross sections Seq values starting with the value 1 at the downstream-most cross section.\n\nUse the 13a - XS Resequence tool to set the starting Seq value for each reach.\n\nFor all reaches other than the first reach (downstream-most) in a site, the cross sections must be re-sequenced using the 13a - XS Resequence tool.\nSet the Seq field value for each upstream reach to the upstream-most value (i.e., the highest Seq value of the downstream reach’s regular cross section feature class) of the downstream reach.\nFor example, set the Seq of the Reach-2 regular cross section feature class to 58 if the maximum value of Reach-1’s regular cross section feature class Seq field is 57.\n\n\n\nCalculate Cross Section Watershed Area\nThe purpose of this step is to calculate the watershed area for each regularly spaced cross section.\n\nFrom the study area geodatabase, use the watershed_contributing_area raster that covers the entire contributing watershed of the study area.\n\nUse the ERSI Clip Raster tool to clip the watershed_contributing_area raster to stream_network_buffer to speed tool run time.\nAdd the contributing_area_buffer raster to a map and symbolize with a “hot-cold” stretch renderer.\nAdd the flowline and regular cross section features classes to the map. Place them on top of the contributing_area_buffer raster.\nDetermine the maximum distance from the intersection of each cross section and the flowline to the nearest pixel of high flow in the contributing_area_buffer raster. This value will be used for the snap_distance in the next step.\nUse the 12 - XS Watershed Area tool to calculate the watershed area for each cross section.\nFor the flow_accum parameter, use the contributing_area_buffer raster.\nFor the snap_distance parameter, use the distance you calculated in a previous step.\n\n\n\nCalculate Cross Section River Position\nThe purpose of this step is to calculate the river position for each regularly spaced cross section.\n\nUse the 13 - XS River Position tool to calculate the distance to the mouth of the river for each cross section.\nThe river position of each cross section will be used in later steps to calculate several channel parameters (i.e., gradient, sinuosity).\n\n\n\nCalculate Cross Section Points\nThe purpose of this step is to convert each cross section into a set of evenly stationed points and assign DEM and detrended elevation values.\n\nUse the 14 - XS Points tool to calculate cross section station points for each cross section.\nThe station_distance parameter should be set to approximately the resolution of the DEM. For example, if the DEM has a cell size of 1 foot (0.3048 meter), set the station_distance to that distance (using the linear units of the coordinate system used for the project’s vector data).\nThis tool creates a new feature class named &lt;cross section feature class name&gt;_points.\n\n\n\nCalculate Cross Section L1 Dimensions\nThe purpose of this step is to calculate the L1 dimensions for the regularly spaced cross sections.\nDetermine the moving window size\nMany stream metrics are scale dependent, meaning these metrics are affected by the size of the moving window used in their calculation. To determine the appropriate size of the moving window for this reach, use the following steps:\n\nMany stream metrics are typically calculated using a moving window size equal to two meander wavelengths (one upstream meander wavelength and one downstream meander wavelength).\nUsing the initial Channel Mask layer that you created earlier, estimate the typical bankfull width for the reach.\nEstimate the length of two meander wavelengths by multiplying the bankfull width estimated in the last step by 10 (e.g., 30ft bankfull width * 10 = 300ft, two meander wavelengths).\n\nDetermine how many cross sections two meander wavelengths represent. For example, if regular cross sections are spaced 100ft apart, then two meander wavelengths would be 3 cross sections (i.e., 300ft / 100ft between cross sections).\n\nCalculate L1 Dimensions\n\nUse the 15a - XS Dimensions, Level 1 tool to calculate L1 dimensions.\nSet the xs_fc parameter to the regular cross sections feature class you created in a previous step.\nSet the lead_n parameter to the number of upstream cross sections that you calculated in a previous step.\nIf the elevations in the channel seem noisy, check the use_smoothing parameter and set the loess_span parameter to a value between 0-1.\nConfirm that the vert_units of the DEM are in feet.\n\nConfirm the degree of smoothing\n\nUse a chart to verify the choice of the smoothing loess_span parameter.\nRight-click on the *_dims_L1 feature class in the map Table of Contents and select “Create Chart”, and select “Line”. In the Date or Number dropdown, choose the field POINT_M. In the Aggregation dropdown, choose None. In the Numeric field(s) checklist, check the boxes next to Z and Z_smooth. Click the Apply button to view the chart.\nVisually assess the degree of smoothing. The smoothing should be high enough to eliminate LiDAR elevation noise, but not so high as to eliminate meaningful channel elevation change.\nIf the smoothing is not ideal, re-run the tool and adjust the loess_span parameter.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#identify-infrastructure",
    "href": "3-3-Level-1.html#identify-infrastructure",
    "title": "12  Level 1 Workflow",
    "section": "Identify Infrastructure",
    "text": "Identify Infrastructure\nThe purpose of this stage is to identify salient features in the floodplain that may be affecting channel hydraulics along each reach. Here are some ideas for the features you should identify:\n\nSignificant tributaries\nBuilt infrastructure\nSignificant geologic features\n\n\nCreate Features\nThe purpose of this step is to identify the longitudinal position of noteworthy stream features for graph and map labeling.\n\nCreate a new point feature class named features containing the following fields:\n\nName - Text (50), Used to record the name of the river feature.\nkm_to_mouth - double, Used to record the feature’s longitudinal position within the reach.\n\nWorking upstream from the downstream end of the reach, examine the DEM and aerial imagery for significant river features and built infrastructure that could potentially impact stream structure and function.\nAdd the flowline_points feature class to the current map.\nSet the display field to the km_to_mouth field.\nCreate a features point feature centered along the flowline feature class.\nAssign it a descriptive label in the Name field, and record its longitudinal position along the reach (see next bullet) in the km_to_mouth field.\nTo determine a feature’s longitudinal position along the reach, use the identify tool to find the closest point in the flowline_points feature class and use the value from its POINT_M value.\nRepeat these steps to record all of the significant features along each reach.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#run-report",
    "href": "3-3-Level-1.html#run-report",
    "title": "12  Level 1 Workflow",
    "section": "Run Report",
    "text": "Run Report\nThe purpose of this stage is to run the Level 1 report for each reach.\n\nRun the Level 1 Report\nThe purpose of this step is to run the L1 report for each reach. The Level 1 Report displays the channel dimensions for the base year, compared with multiple previous year surveys.\n\nIn the Reports toolset, use the Level 1 Report tool to produce the Level 1 Report.\nFor the stream parameter, use the value of the ReachName field used in the flowline feature class.\nFor the flowline_fc parameter, enter the flowline feature class for the base year survey.\nFor the xs_dimensions_fc parameter, use the *_dims_L1 feature class calculated for the regular cross sections of the base year.\nThe flowline_points_* parameters should be entered with the feature class for the most recent survey first (i.e., the base year) and then the previous surveys in reverse chronological order (e.g., 2016, 2010, 2006).\nThe xs_points_* parameters should be entered with the feature class for the most recent survey first (i.e., the base year) and then the previous surveys in reverse chronological order (e.g., 2016, 2010, 2006).\nThe survey_name_* parameters are used to label the surveys in maps and graphs.\nThe feature classes and labels used for the flowline_points_*, xs_points_*, and survey_name_* parameters must be entered in the same order (e.g., 2016, 2010, 2006) in each set of numbered parameters.\nFor the features_fc parameter, enter the features feature class for the base year survey.\nFor the dem parameter, enter the DEM for the base year survey.\n\n\n\nPerform QA\nThe purpose of this step is to use the QA Checklist to verify the reports have run correctly and identify any data mistakes that need to be corrected.\n\nFollow the instructions in the QA Checklist Chapter, Level 1 Report, to verify that the reports have run correctly.\nMake the required changes suggested in the QA Checklist and rerun the report.\nRepeat these QA iterations until the reports are correct.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-3-Level-1.html#determine-next-steps",
    "href": "3-3-Level-1.html#determine-next-steps",
    "title": "12  Level 1 Workflow",
    "section": "Determine Next Steps",
    "text": "Determine Next Steps\nThe purpose of this step is to determine what further steps need to be taken.\n\nReview the results of the Level 1 Report and determine if the project goals require proceeding to developing the Level 2 analysis.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Level 1 Workflow</span>"
    ]
  },
  {
    "objectID": "3-4-Level-2.html",
    "href": "3-4-Level-2.html",
    "title": "13  Level 2 Workflow",
    "section": "",
    "text": "Create Initial Riffle Geometry\nThe purpose of this stage is to identify and map riffle cross sections and roughly estimate an initial bankfull elevation for the base year for each reach.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Level 2 Workflow</span>"
    ]
  },
  {
    "objectID": "3-4-Level-2.html#create-initial-riffle-geometry",
    "href": "3-4-Level-2.html#create-initial-riffle-geometry",
    "title": "13  Level 2 Workflow",
    "section": "",
    "text": "Create Riffle Floodplain\nThe purpose of this step is to identify riffle locations and map these cross sections across the lateral extent of the floodplain for each reach.\nA riffle is a shallow river landform where water flows in a steep, thin sheet (luna_bergere_leopold_river_1957?). Riffles can be identified with the help of the channel_slope raster calculated in Level 1, and confirmed with high resolution aerial imagery. In the channel_slope raster, pools appear as relatively smooth areas of low slope due to the absence of LiDAR points (deep water absorbs laser pulses). Shallow water riffles appear as highly textured areas of relatively higher slope between pools due to the higher number of LiDAR points from the exposed bed material.\n\nCreate a new line feature class named riffle_floodplain to store riffle cross sections. This feature class must use the same coordinate system as the vector datasets of the project. Add the following fields:\n\nReachName: Text (50) - The purpose of this field is to store the reach name.\nSeq: long integer - The purpose of this field is to uniquely identify each cross section.\n\n\nRiffle Identifying Characteristics:\n\nA straight reach between two meander bends, areas in the cross-overs between river bends\nClear indicators of the active floodplain or bankfull discharge\nPresence of one or more terraces\nChannel section and form typical of the stream\nA reasonably clear view of of geomorphic features\nAreas of high water surface slope (in the case of high gradient streams)\nAreas of minimum depth and width\nChannel width parallel and consistent\nAvoid tributary influences\nCross sections should be drawn wide enough to capture the top of bank\n\nDigitize Riffles\n\nDigitize riffle cross sections beginning with the left descending bank. While editing, use the “Reverse Direction” command (aka flip) to ensure riffles are digitized in the correct direction.\nA red vertex denotes the end of a line segment. Therefore, the red end vertex should be on the right descending bank.\nCheck that each cross section is digitized in the correct direction (start at the left descending bank and end on the right descending bank) before going on to the next step.\nEnsure that riffle cross sections are digitized to the full width of the active floodplain. Edit each riffle_floodplain feature to ensure that it extends at least to the edge of the Floodplain Mask layer, but no further.\nThis ensures that each riffle_floodplain feature covers the entire floodplain, but does not extend too far into the uplands.\n\nFor a site with multiple reaches, riffle cross sections must be uniquely numbered across all reaches. The Seq field values of riffle cross sections should not repeat within the reaches of a site.\nThe downstream-most cross section in the site should be numbered starting with the Seq field value of 1 and increase moving upstream.\nIf necessary, use the 13a - XS Resequence tool to set the starting Seq value for each reach.\nSet the Seq field value for each upstream reach to the upstream-most value (i.e., the highest Seq value of the downstream reach’s riffle cross section feature class) of the downstream reach. For example, set the Seq of the Reach-2 riffle cross section feature class to 18 if the maximum value of Reach-1’s riffle cross section feature class Seq field is 17.\n\n\n\nAssign Cross Section IDs\nThe purpose of this step is to ensure that riffle cross section identifiers are properly assigned. Assignment of cross section unique identifiers is critical for later tools to uniquely identify each cross section.\n\nAssign integer values to the Seq field starting with one. Begin numbering at the downstream extent of the study area and moving upstream.\n\n\n\nCalculate Cross Section Watershed Area\nThe purpose of this step is to calculate the watershed area for each riffle cross section.\n\nFrom the study area geodatabase, use the watershed_contributing_area raster that covers the entire contributing watershed of the study area.\n\nUse the ERSI Clip Raster tool to clip the watershed_contributing_area raster to stream_network_buffer to speed tool run time.\nAdd the contributing_area_buffer raster to a map and symbolize with a “hot-cold” stretch renderer.\nAdd the flowline and regular cross section features classes to the map. Place them on top of the contributing_area_buffer raster.\nDetermine the maximum distance from the intersection of each cross section and the flowline to the nearest pixel of high flow in the contributing_area_buffer raster. This value will be used for the snap_distance in the next step.\nUse the 12 - XS Watershed Area tool to calculate the watershed area for each cross section.\nFor the flow_accum parameter, use the contributing_area_buffer raster.\nFor the snap_distance parameter, use the distance you calculated in a previous step.\n\n\n\nCalculate Cross Section River Position\nThe purpose of this step is to calculate the river position for each riffle cross section.\n\nUse the 13 - XS River Position tool to calculate the distance to the mouth of the river for each cross section.\nThe river position of each cross section will be used in later steps to calculate several channel parameters (i.e., gradient, sinuosity).\n\n\n\nCreate Riffle Channel\nThe purpose of this step is to edit the lateral extent of the riffle_channel feature class to just cover the initial channel extent. This allows a more detailed examination of the channel area.\n\nIn the Catalog window, make a copy of the riffle_floodplain feature class and name it riffle_channel.\nEdit each riffle_channel feature to ensure that it extends at least to the edge of the Channel Mask layer, but no further. This ensures that each riffle_channel feature covers the entire channel, but does not extend too far into the floodplain.\nUse snapping to ensure that vertices of the riffle_channel features are coincident with the overlapping riffle_floodplain features.\n\n\n\nCalculate Cross Section Points\nThe purpose of this step is to convert each riffle cross section into a set of evenly stationed points and assign DEM and detrended elevation values.\n\nUse the 14 - XS Points tool to calculate cross section station points for each cross section.\nThe station_distance parameter should be set to approximately the resolution of the DEM. For example, if the DEM has a cell size of 1 foot (0.3048 meter), set the station_distance to that distance (using the linear units of the coordinate system used for the project’s vector data).\nThis tool creates a new feature class named &lt;cross section feature class name&gt;_points.\nRepeat this step for both the riffle_floodplain and riffle_channel feature classes.\n\n\n\nCalculate Initial Cross Section L2 Dimension\nThe purpose of this step is to calculate the initial L2 dimensions for the the riffle cross sections for each reach. Repeat the following steps for both the riffle_floodplain and riffle_channel feature classes.\nDetermine the moving window size\nMany stream metrics are scale dependent, meaning these metrics are affected by the size of the moving window used in their calculation. To determine the appropriate size of the moving window for this reach, use the following steps:\n\nMany stream metrics are typically calculated using a moving window size equal to two meander wavelengths.\nUsing the initial Channel Mask layer that you created earlier, estimate the typical bankfull width for the reach.\nEstimate the length of two meander wavelengths by multiplying the bankfull width estimated in the last step by 10 (e.g., 30ft bankfull width * 10 = 300ft, two meander wavelengths).\n\nDetermine how many cross sections two meander wavelengths represent. For example, if riffle cross sections are spaced about 300ft apart, then two meander wavelengths would be 1 riffle cross section (i.e., 300ft / 300ft between riffle cross sections).\n\nCalculate Initial L2 Dimensions\n\nUse the 15b - XS Dimensions, Level 2 tool to calculate L2 dimensions.\nSet the xs_fc parameter to the regular cross sections feature class you created in a previous step.\nSet the lead_n parameter to the number of upstream cross sections that you calculated in a previous step.\nIf the elevations in the channel seem noisy, check the use_smoothing parameter and set the loess_span parameter to a value between 0-1.\nConfirm that the vert_units of the DEM are in feet.\n\nConfirm the degree of smoothing\n\nUse a chart to verify the choice of the smoothing loess_span parameter in the *_dims_L2 feature class.\nRight-click on the *_dims_L2 feature class in the map table of contents and select “Create Chart”, and select “Line”. In the Date or Number dropdown, choose the field POINT_M. In the Aggregation dropdown, choose None. In the Numeric field(s) checklist, check the boxes next to Z and Z_smooth. Click the Apply button to view the chart.\nVisually assess the degree of smoothing. The smoothing should be high enough to eliminate LiDAR elevation noise, but not so high as to eliminate meaningful channel elevation change.\nIf the smoothing is not ideal, re-run the tool and adjust the loess_span parameter.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Level 2 Workflow</span>"
    ]
  },
  {
    "objectID": "3-4-Level-2.html#estimate-bankfull",
    "href": "3-4-Level-2.html#estimate-bankfull",
    "title": "13  Level 2 Workflow",
    "section": "Estimate Bankfull",
    "text": "Estimate Bankfull\nThe purpose of this stage is to estimate the detrended bankfull elevation for the base year for each reach. This report conducts a sensitivity analysis using the regional curve estimates of channel dimensions across a range of elevation values to identify the detrended bankfull elevation value that best fits the regional curve estimate.\n\nRun the Estimate Bankfull Report\nThe purpose of this step is to run the Estimate Bankfull report for each reach.\n\nIn the Reports toolset, use the L2 Estimate Bankfull tool to produce the Estimate Bankfull Report.\nFor the stream parameter, use the value of the ReachName field used in the flowline feature class.\nFor the flowline_fc parameter, enter the flowline feature class for the base year survey.\nFor the xs_dims_fc parameter, use the riffle_channel_dims_L2 feature class calculated for the base year.\nThe xs_points_ch_* parameter set requires a riffle_channel_points feature class. These feature classes should be entered with the feature class for the most recent survey first (i.e., the base year) and then the previous surveys in reverse chronological order (e.g., 2016, 2010, 2006).\nThe xs_points_fp_* parameter set requires a riffle_floodplain_points feature class. These feature classes should be entered with the feature class for the most recent survey first (i.e., the base year) and then the previous surveys in reverse chronological order (e.g., 2016, 2010, 2006).\nThe survey_name_* parameters are used to label the surveys in maps and graphs.\nThe feature classes and labels used for the xs_points_* and survey_name_* parameters must be entered in the same order (e.g., 2016, 2010, 2006) in each set of numbered parameters.\nFor the features_fc parameter, enter the features feature class for the base year survey.\nFor the dem parameter, enter the DEM for the base year survey.\nFor the regions parameter, select the regions to use for estimating the bankfull water surface elevation.\nFor the from_elevation parameter, specify the lowest detrended elevation value to use for sensitivity analysis.\nFor the to_elevation parameter, specify the highest detrended elevation value to use for sensitivity analysis.\nFor the by_elevation parameter, specify the value to increment the sequence between from_elevation and to_elevation.\nThe three values (i.e., from_elevation, to_elevation, and by_elevation) define the sequence used for the sensitivity analysis.\nFor the bf_estimate parameter, specify the detrended elevation value that represents the bankfull water surface elevation.\n\n\n\nPerform QA\nThe purpose of this step is to use the QA Checklist to verify the reports have run correctly and identify any data mistakes that need to be corrected.\n\nFollow the instructions in the QA Checklist Chapter, Estimate Bankfull Report section, to verify that the reports have run correctly.\nMake the required changes suggested in the QA Checklist and rerun the report.\nRepeat these QA iterations until the reports are correct.\n\n\n\nDetermine Bankfull Elevation\nThe purpose of this step is to interpret the Estimate Bankfull Report to determine the final detrended bankfull elevation to be used for the rest of the analysis for each reach. The L2 Estimate Bankfull tool is intended to be run iteratively, testing the fit of a range of detrended bankfull elevations against different regional curves.\n\nFrom the initial Estimate Bankfull Report, use the Bankfull Elevation Goodness of Fit sensitivity analysis graph to examine the effect of choice of detrended bankfull elevation on the error statistic.\nIdentify the detrended bankfull elevation that minimizes error on the Bankfull Elevation Goodness of Fit sensitivity analysis graph.\nIn the example figure below, the detrended bankfull elevation of 104 ft. minimizes error (y-axis Mean Average Error) for both area and depth. Although 102 ft. appears to be the detrended elevation that minimizes error for width, 104 ft. does a better job for area and depth. Using the logic of “best two out three”, a detrended bankfull elevation of 104 ft. could be chosen for this reach and will be used for later steps in this analysis. However, other criteria could be used depending on the goals of your study.\nRerun the report using the value chosen in the previous step.\n\n\n\n\n\n\nBankfull Elevation Goodness of Fit\n\n\n\n\n\n\nCreate Bankfull Area\nThe purpose of this step is to use the final bankfull elevation determined in the previous step to derive a final bankfull_area polygon for each reach.\n\nFrom the final Estimate Bankfull Report, use the detrended bankfull elevation identified in the last step. In the example above, this value was 104 ft.\nUse the 08 - Water Surface Extent tool to extract a bankfull area polygon. This tool creates a new polygon feature class named banks_raw_xxx, where xxx is the detrended elevation specified.\nThe banks_raw_xxx feature class must be edited to select only the polygons that represent the bankfull area polygon(s).\nOpen the attribute table for the banks_raw_xxx feature class and use advanced sorting to sort first by gridcode and then by Shape_Area.\nPolygons with gridcode = 1 are polygons inundated at the detrended elevation.\nTypically, the polygons with the largest area represent the channel.\nBegin by selecting gridcode = 1 polygons with the largest area until the entire bankfull area is selected.\nExport these selected features to a new feature class named bankfull_area.\nDelete the banks_raw_xxx feature class.\n\n\n\nCreate Banklines\nThe purpose of this step is to convert the bankfull_area polygon into polylines and edit into a banklines feature class for each reach. The banklines feature class will have two records, one representing the left descending bankline and another the right descending bankline for the stream reach.\n\nUse the ESRI Polygon To Line tool to convert the bankfull_area polygon feature class to a new polyline feature class named banklines.\nAdd the following fields to the banklines feature class:\n\nReachName: Text (50) - The purpose of this field is to store the reach name.\nbank_id: Long Integer - The purpose of this field is to uniquely identify each bank.\nbank: Text (50) - The purpose of this field is to designate which bank is the right descending bank and which is the left descending bank.\n\nStart editing the banklines feature class.\nUse the ESRI Explode Multipart Feature tool to explode any multipart line feature in the banklines feature class.\nAdd the flowline feature class to the map.\nUse the ESRI Split Tool to split the line features at the downstream and upstream ends of the flowline feature class.\nThe features in the banklines feature class should not extend past the end of the flowline feature.\nUse the ESRI Split Tool to trim any tributaries from the banklines feature class.\nThe goal of this step is to have only two features, one representing the left descending bankline and another the right descending bankline. Delete all other line features.\nEnsure that the banklines are digitized in the upstream direction (like a flowline feature). Edit the banklines feature class to ensure that each bankline is digitized beginning with the downstream end and digitized upstream.\nWhile editing, select a bankline feature, choose to edit vertices. Ensure that the red endpoint is at the upstream end of each bankline.\nUse the “Reverse Direction” command (aka flip) to ensure each bankline is digitized in the upstream direction.\nCheck that each bankline is digitized in the upstream direction (red endpoint at the upstream end) before going on to the next step.\nIn the ReachName field enter the reach name.\nIn the bank field, enter the string right descending or left descending to designate which bank each line represents.\nIn the bank_id field enter a 1 for the right descending bank and 2 for the left descending bank.\n\n\n\nCreate Final Centerline\nThe purpose of this step is to create a stream centerline. The centerline represents the rough midline of the stream between the banklines.\n\nUse the 10 - Centerline tool to create a centerline polyline feature class representing the stream midline at the bankfull water surface elevation.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Level 2 Workflow</span>"
    ]
  },
  {
    "objectID": "3-4-Level-2.html#calculate-final-l2-cross-section-geometry",
    "href": "3-4-Level-2.html#calculate-final-l2-cross-section-geometry",
    "title": "13  Level 2 Workflow",
    "section": "Calculate Final L2 Cross Section Geometry",
    "text": "Calculate Final L2 Cross Section Geometry\nThe purpose of this stage is to use the bankfull elevation determined in the last stage to calculate the final level 2 cross section dimensions for the base year for each reach.\n\nCalculate Final Cross Section L2 Dimensions\nThe purpose of this step is to calculate the final L2 dimensions for the regularly spaced and riffle cross section feature classes for each reach. Repeat the following steps for regular spaced cross section feature class, the riffle_floodplain feature class, and the riffle_channel feature class.\nDetermine the moving window size\nMany stream metrics are scale dependent, meaning these metrics are affected by the size of the moving window used in their calculation. To determine the appropriate size of the moving window for this reach, use the following steps:\n\nMany stream metrics are typically calculated using a moving window size equal to two meander wavelengths.\nUsing the bankfull_area feature class, estimate the typical bankfull width for the reach.\nEstimate the length of two meander wavelengths by multiplying the bankfull width estimated in the last step by 10 (e.g., 30ft bankfull width * 10 = 300ft, two meander wavelengths).\n\nDetermine how many cross sections two meander wavelengths represent.\nFor riffle cross section for example, if they are spaced about 300ft apart, then two meander wavelengths would be 1 riffle cross section (i.e., 300ft / 300ft between riffle cross sections).\nFor regular cross section for example, if they are spaced about 100ft apart, then two meander wavelengths would be 3 regular cross sections (i.e., 300ft / 100ft between regular cross sections).\n\nCalculate Final L2 Dimensions\n\nDelete the initial Level 2 dimensions *_dims_L2 feature classes created earlier in Level 2.\nUse the 15b - XS Dimensions, Level 2 tool to calculate final L2 dimensions.\nSet the xs_fc parameter to the cross sections feature class.\nSet the lead_n parameter to the number of upstream cross sections that you calculated in a previous step depending on the type of cross section (i.e., regular cross section, riffle cross section).\nIf the elevations in the channel seem noisy, check the use_smoothing parameter and set the loess_span parameter to a value between 0-1.\nConfirm that the vert_units of the DEM are in feet.\n\nConfirm the degree of smoothing\n\nUse a chart to verify the choice of the smoothing loess_span parameter in the *_dims_L2 feature class.\nRight-click on the *_dims_L2 feature class in the map table of contents and select “Create Chart”, and select “Line”. In the Date or Number dropdown, choose the field POINT_M. In the Aggregation dropdown, choose None. In the Numeric field(s) checklist, check the boxes next to Z and Z_smooth. Click the Apply button to view the chart.\nVisually assess the degree of smoothing. The smoothing should be high enough to eliminate LiDAR elevation noise, but not so high as to eliminate meaningful channel elevation change.\nIf the smoothing is not ideal, re-run the tool and adjust the loess_span parameter.\n\n\n\nAdd Modeled Water Surface Elevation\nThe purpose of this optional step is to add an HEC-RAS hydraulic model estimated water surface elevation (if available) to a cross section dimension feature class.\n\nUse the 16 - XS RAS Watersurface tool to add a modeled water surface elevation field to the input cross section feature class.\nUse the RAS_model_name parameter to distinguish between multiple RAS model scenarios.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Level 2 Workflow</span>"
    ]
  },
  {
    "objectID": "3-4-Level-2.html#run-report",
    "href": "3-4-Level-2.html#run-report",
    "title": "13  Level 2 Workflow",
    "section": "Run Report",
    "text": "Run Report\nThe purpose of this stage is to produce the Level 2 report for each reach.\n\nRun the L2 Report\nThe purpose of this step is to run the L2 report for each reach.\n\nIn the Reports toolset, use the Level 2 Report tool to produce the Level 2 Report.\nFor the stream parameter, use the value of the ReachName field used in the flowline feature class.\nFor the flowline_fc parameter, enter the flowline feature class for the base year survey.\nFor the xs_dims_fc parameter, use the *_dims_L2 feature class calculated for the regular cross sections of the base year.\nThe xs_points_* parameters should be entered with the feature class for the most recent survey first (i.e., the base year) and then the previous surveys in reverse chronological order (e.g., 2016, 2010, 2006).\nThe survey_name_* parameters are used to label the surveys in maps and graphs.\nThe feature classes and labels used for the flowline_points_*, xs_points_*, and survey_name_* parameters must be entered in the same order (e.g., 2016, 2010, 2006) in each set of numbered parameters.\nFor the dem parameter, enter the DEM for the base year survey.\nFor the banklines_fc parameter, enter the banklines feature class created for the base year survey.\n\nFor the features_fc parameter, enter the features feature class for the base year survey.\nFor the bf_estimate parameter, specify the detrended elevation value that represents the bankfull water surface elevation.\nFor the regions parameter, select the regions to use for estimating the bankfull water surface elevation.\n\n\n\nPerform QA\nThe purpose of this step is to use the QA Checklist to verify the reports have run correctly and identify any data mistakes that need to be corrected.\n\nFollow the instructions in the QA Checklist Chapter, Level 2 Report section, to verify that the reports have run correctly.\nMake the required changes suggested in the QA Checklist and rerun the report.\nRepeat these QA iterations until the reports are correct.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Level 2 Workflow</span>"
    ]
  },
  {
    "objectID": "3-4-Level-2.html#determine-next-steps",
    "href": "3-4-Level-2.html#determine-next-steps",
    "title": "13  Level 2 Workflow",
    "section": "Determine Next Steps",
    "text": "Determine Next Steps\nThe purpose of this step is to determine what further steps need to be taken.\n\nReview the results of the Level 2 Report and determine if the project goals require proceeding to developing the Level 3 analysis.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Level 2 Workflow</span>"
    ]
  },
  {
    "objectID": "3-5-Level-3.html",
    "href": "3-5-Level-3.html",
    "title": "14  Level 3 Workflow",
    "section": "",
    "text": "Define Valley Line\nThe purpose of this stage is to define the valley trend line for the base year for each reach.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Level 3 Workflow</span>"
    ]
  },
  {
    "objectID": "3-5-Level-3.html#define-valley-line",
    "href": "3-5-Level-3.html#define-valley-line",
    "title": "14  Level 3 Workflow",
    "section": "",
    "text": "Determine Final Floodplain Extent\nThe purpose of this step is to use the detrended bankfull elevation identified in L2 to delineate the active floodplain.\n\nFrom the final Estimate Bankfull Report created in Level 2, use the detrended bankfull elevation identified. In the example from Level 2, this value was 104 ft.\nDetermine the bankfull depth:  The detrending process used in FluvialGeomorph expresses stream elevations using a base index value of 100 ft. Therefore, a detrended bankfull elevation estimated to be 104 ft. means that at bankfull discharge, the water surface elevation is 4 ft. above the detrended stream base index value of 100 ft. for this reach:\n104 ft detrended bankfull elevation - 100 ft detrended stream base index = 4 ft bankfull depth\nDetermine flood prone height:  Flood prone has been determined through empirical studies to be approximately two times the bankfull depth. For example, using the bankfull depth calculated in the last step, calculate the flood prone depth using the following formula:\n2 * 4 ft bankfull depth = 8 ft flood prone height\nTherefore, the flood prone detrended elevation would be 108 ft:\n100 ft detrended stream base index + 8 ft flood prone height = 108 ft detrended flood prone height\nWith the detrended flood prone elevation for your reach determined in the last step, use the 08 - Water Surface Extent tool to extract a flood prone area polygon. This tool creates a new polygon feature class named banks_raw_xxx, where xxx is the detrended elevation selected.\nThis feature class must be edited to select the flood prone area polygon(s). Open the attribute table for the banks_raw_xxx feature class and use advanced sorting to sort first by gridcode and then by Shape_Area. Polygons with gridcode = 1 are polygons inundated at the detrended elevation. Typically, the polygons with the largest area represent the channel. Begin selecting gridcode = 1 polygons with the largest area until the entire flood prone area is selected.\nExport these selected features to a new feature class named flood_prone.\nDelete the banks_raw_xxx feature class created in this section.\n\n\n\nDevelop Candidate Valleylines\nThe purpose of this step is to create a set of candidate valleyline feature classes through iterative smoothing of the flowline for each reach.\n\nThe following steps are performed in the site geodatabase for the base year. This is done to ensure that a valleyline feature class is created smoothly through all of the reaches in a site.\nIn the site geodatabase for the base year, use the ESRI Smooth Line tool to smooth the site flowline feature class.\nChoose the PAEK smoothing algorithm.\nFor the first candidate valleyline, use a Smoothing Tolarance value of 200 meters. In this case you would name the output feature class valleyline_200\nRepeat the previous step using the Smoothing Tolerance values such as 400, 800, and 1000.\nDepending on the detail of the flowline feature class geometry, you may need to select a different range or set of step values of the Smoothing Tolerance parameter values to evaluate.\nThe goal is to create a wide degree of flowline smoothing in the candidate valleyline feature classes to select from in the next step.\n\n\n\nChoose Final Valleyline\nThe purpose of this step is to choose from the candidate valleyline feature classes the one that best captures the overall valley trend line.\n\nThe goal of this step is to select from the candidate valleyline feature classes the one that is the most smoothed, yet still fits primarily within the flood_prone polygon extent.\nAdd the flood_prone polygon and all of the candidate valleyline feature classes to the current map.\nIdentify the valleyline feature class that has the highest smoothing tolerance value that also is mostly contained within the extent of the flood_prone polygon.\nIn the site geodatabase of the base year, rename the selected valley line to valleyline.\nDelete the unused candidate valleyline feature classes from the site geodatabase of the base year.\nCopy the valleyline feature class you just created from the site geodatabase to each of the base year reach geodatabases.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Level 3 Workflow</span>"
    ]
  },
  {
    "objectID": "3-5-Level-3.html#define-meander-loops",
    "href": "3-5-Level-3.html#define-meander-loops",
    "title": "14  Level 3 Workflow",
    "section": "Define Meander Loops",
    "text": "Define Meander Loops\nThe purpose of this stage is to define meander loops and bends for the base year for each reach.\n\nDefine Loop Points\nThe purpose of this step is to create a new feature class named loop_points and use it to identify the start and end stream meander loops and bends.\n\nCreate a new point feature class named loop_points. Enable z and m values. The feature class should contain the following fields:\n\nReachName: Text (50) - The purpose of this field is to store the reach name.\nloop: Long Integer - The purpose of this field is to store the loop unique identifier for the point.\nbend: Long Integer - The purpose of the field is to store the bend identifier for the point.\nposition: Text (10) - The purpose of this field is to store position identifier for the point. This field must have one three values: “start”, “end”, or “apex”.\n\n\nCreate Loop Points\n\nloop_points features are used to define the start and end location of loop bends and the location of a loop’s apex.\nloop_points features are always placed along (i.e., snapped to) a bankline feature.\nBegin numbering loops starting at the downstream end of the reach and increment the loop integer values moving upstream.\nIn FluvialGeomorph, the valleyline is used segment the flowline into loops.\nThe beginning and end of loops are delineated where the valleyline definitively crosses the flowline.\nIf the flowline crosses the valleyline and then crosses back over in a short distance, this is not considered a definitive crossing. A definitive crossing is one where the flowline approaches the valleyline, crosses it, and then continues to move away from the valleyline for a significant longitudinal distance.\nLoops must alternate from one bank to the opposite bank. For example, if loop 1 is delineated along the right descending bank, then loop 2 is delineated along the left descending bank.\nLoops are composed of one or more bends (bends nest inside of loops). For example, loop 1 can have bends 1, 2, and 3 (i.e., loop 1, bend 1; loop 1, bend 2; loop 1, bend 3).\nBend numbering restarts within each loop. The first bend value within a loop always begins with the value 1.\n\nMultiple Reaches: \n\nFor a site with multiple reaches, loops must be uniquely numbered across all reaches. The loop field values of loop_points should not repeat within the reaches of a site.\n\nThe downstream-most loop in the site should be numbered starting with the loop field value of 1 and increase moving upstream.\n\nSet the loop field value for each upstream reach to the upstream-most value (i.e., the highest loop value of the downstream reach’s loop_points feature class) of the downstream reach. For example, set the value of the field loop of the first Reach-2 loop_points feature to 8 if the maximum value of Reach-1’s loop_points feature class loop field is 7.\n\nCheck Loop Points: \n\nUse the Check Loop Points tool in the Check toolset to verify that loops and bends are defined correctly.\nReview the messages produced by this tool to identify and correct problems with loop and bend delineation.\n\n\n\nDerive Bankline Points\nThe purpose of this step is to convert the banklines to a set of bankline_points and assign elevations and loop and bend locations to these features.\n\nUse the 14b - Bankline Points tool to assign loops, bends, elevations and valley line positions to the bankline_points.\nWhen the tool completes, check that this tools runs correctly by running the Check Bankline Points tool in the Check toolset.\nThe check tool ensures that the loop, bend, position, valley_POINT_X, valley_POINT_Y, and valley_POINT_M fields are populated. Only bankline_points features within loops and bends will have values in the loop, bend, and position fields.\nAll records should have values in the valley_POINT_X, valley_POINT_Y, and valley_POINT_M fields.\nAdditionally, apply the following definition query to the bankline_points feature class: “loop IS NOT NULL”. Only bankline_points features between loop_points features should be visible.\n\n\n\nAssign Cross Section Loops\nThe purpose of this step is to assign loop and bend identifiers to regularly spaced and riffle cross section feature classes for each reach.\n\nUse the 14c - Assign Loops tool to assign loops and bends to a cross section feature class.\nSet the value of the cross_section parameter to the regular cross section feature class.\nAfter the tool completes, check the regular cross section feature class that the loop and bend fields are assigned the correct loop and bend values.\nRepeat this step for both the riffle_channel and riffle_floodplain feature classes.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Level 3 Workflow</span>"
    ]
  },
  {
    "objectID": "3-5-Level-3.html#calculate-l3-cross-section-geometry",
    "href": "3-5-Level-3.html#calculate-l3-cross-section-geometry",
    "title": "14  Level 3 Workflow",
    "section": "Calculate L3 Cross Section Geometry",
    "text": "Calculate L3 Cross Section Geometry\nThe purpose of this stage is to calculate the Level 3 dimensions for each reach.\n\nCalculate Cross Section L3 Dimensions\nThe purpose of this step is to calculate the L3 dimensions for the regularly spaced and riffle cross section feature classes for each reach.\n\nIf any *_dims_L3 feature classes exist in the reach geodatabase (created during a previous run), delete these feature classes.\n\nUse the 15c - XS Planform, Level 3 tool to calculate the L3 dimensions.\n\nVerify in the attribute table that the L3 dimensions have been calculated.\n\n\n\nAdd Modeled Water Surface Elevation\nThe purpose of this optional step is to add an HEC-RAS hydraulic model estimated water surface elevation (if available) to a cross section dimension feature class.\n\nUse the 16 - XS RAS Watersurface tool to add a modeled water surface elevation field to the input cross section feature class.\nUse the RAS_model_name parameter to distinguish between multiple RAS model scenarios.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Level 3 Workflow</span>"
    ]
  },
  {
    "objectID": "3-5-Level-3.html#run-report",
    "href": "3-5-Level-3.html#run-report",
    "title": "14  Level 3 Workflow",
    "section": "Run Report",
    "text": "Run Report\nThe purpose of this stage is to run the Level 3 report for each reach.\n\nRun the L3 Report\nThe purpose of this step is to run the L2 report for each reach.\n\nIn the Reports toolset, use the Level 3 Report tool to produce the Level 3 Report.\nFor the stream parameter, use the value of the ReachName field used in the flowline feature class.\nFor the flowline_fc parameter, enter the flowline feature class for the base year survey.\nFor the xs_dims_fc parameter, use the *_dims_L3 feature class calculated for the regular cross sections of the base year.\nThe xs_points_* parameters should be entered with the feature class for the most recent survey first (i.e., the base year) and then the previous surveys in reverse chronological order (e.g., 2016, 2010, 2006).\nThe survey_name_* parameters are used to label the surveys in maps and graphs.\nThe feature classes and labels used for the flowline_points_*, xs_points_*, and survey_name_* parameters must be entered in the same order (e.g., 2016, 2010, 2006) in each set of numbered parameters.\nFor the dem parameter, enter the DEM for the base year survey.\nFor the banklines_fc parameter, enter the banklines feature class created for the base year survey.\n\nFor the features_fc parameter, enter the features feature class for the base year survey.\nFor the bf_estimate parameter, specify the detrended elevation value that represents the bankfull water surface elevation.\nFor the regions parameter, select the regions to use for estimating the bankfull water surface elevation.\n\n\n\nPerform QA\nThe purpose of this step is to use the QA Checklist to verify the reports have run correctly and identify any data mistakes that need to be corrected.\n\nFollow the instructions in the QA Checklist Chapter, Level 3 Report section, to verify that the reports have run correctly.\nMake the required changes suggested in the QA Checklist and rerun the report.\nRepeat these QA iterations until the reports are correct.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Level 3 Workflow</span>"
    ]
  },
  {
    "objectID": "3-5-Level-3.html#determine-next-steps",
    "href": "3-5-Level-3.html#determine-next-steps",
    "title": "14  Level 3 Workflow",
    "section": "Determine Next Steps",
    "text": "Determine Next Steps\nThe purpose of this step is to determine what further steps need to be taken.\n\nReview the results of the Level 3 Report and determine if the project goals require further analysis.",
    "crumbs": [
      "Workflows",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Level 3 Workflow</span>"
    ]
  },
  {
    "objectID": "0-7-References.html",
    "href": "0-7-References.html",
    "title": "References",
    "section": "",
    "text": "R Core Team. 2020. R: A Language and Environment for Statistical\nComputing. Vienna, Austria: R Foundation for Statistical Computing.\nhttps://www.R-project.org/.",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "4-1-QAChecklist.html",
    "href": "4-1-QAChecklist.html",
    "title": "Appendix A — QA Checklist",
    "section": "",
    "text": "Level 1 Report",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>QA Checklist</span>"
    ]
  },
  {
    "objectID": "4-1-QAChecklist.html#L1_report_qa",
    "href": "4-1-QAChecklist.html#L1_report_qa",
    "title": "Appendix A — QA Checklist",
    "section": "",
    "text": "Study Area Overview\nThis report section contains a set of reach overview maps drawn using the flowline and the regularly spaced cross section dimensions, *_dims_L1, feature classes (fc). Both the aerial photo and elevation are provided by Mapbox Raster Tiles.\n\nCheck the stream name\nAll of the tools depend on consistent reach naming! Ensuring consistent naming begins with deriving the “flowline” fc. The ReachName field must contain the same value for all of the fc’s within a reach geodatabase. This is the single biggest gotcha we find running these tools. If tools aren’t working correctly and you’re sure you’ve done everything else right, consistent stream names is the first thing to check!\n\n\nCross section labels at the correct interval\nCross section labels usually cannot be placed on every cross section or the map or graph becomes unreadable due to label crowding. The xs_label_freq parameter can be adjusted to adequately space cross section labels. Typically xs_label_freq = 10 works for regularly spaced cross sections and xs_label_freq = 2 works for riffle cross sections.\n\n\nCross sections cover the full extent of the flowine\nThe flowline fc extends from the downstream end of the reach to the upstream end. Cross sections should be spaced regularly across the entire reach, without any gaps at the upper or lower end.\n\n\nMap basemap displaying correctly\nThe overview maps should contain an aerial photo or shaded relief elevation basemap.\n\n\n\nLongitudinal Profiles\nThis report section contains two longitudinal profile graphs, one drawn using the flowline_points fc, and the second is drawn using the cross section dimensions, *_dims_L1 fc.\n\nElevation values are reasonable\nThe elevation values displayed on the map or graph should be reasonable. Use the ESRI Explore tool to check the DEM elevation values. By convention in FluvialGeomorph, DEM values must always have vertical units = feet.\n\n\nElevation ranges are similar between surveys\nAlthough stream elevations can change over time, the elevation ranges between subsequent survey dates should be roughly similar. If the elevation ranges are drastically different, check the terrain development steps for each survey time period to ensure that the elevation data was processed correctly.\n\n\nMultiple surveys are labeled correctly\nReports that contain multiple surveys should be entered in the same way to ensure they are labeled and symbolized (e.g., each survey drawn with the same color in each report) the same way across all reports. Follow these guidelines to ensure consistency:\n\nMost recent survey listed at the top, with earlier surveys listed in reverse chronological order.\nSurvey date indicates the date flown (e.g., not the contract or delivery date).\n\n\n\nMultiple surveys are correctly calibrated to the base year\nOn the longitudinal profile graphs, each survey line should start and end at the same x-axis station value. In other words, one survey line should not end before or after another survey line. Check the far right edge of the longitudinal graph to ensure all survey’s have the same ending value.\nIf all of the surveys’ last station values do not align, it means that the previous surveys were not correctly calibrated to the base year flowline. Previous year surveys will need to have the Flowline Points tool rerun using the base year survey’s flowline_points for calibration.\n\n\nStationing in the correct units\nUnits can be chosen for the longitudinal profile stationing. Ensure that the correct units are selected.\n\n\nStream feature labels display correctly\nLongitudinal graphs are labeled using the rows in the features fc. Ensure these river features are labeled correctly and are located at the correct longitudinal position.\n\n\n\nCross Section Metrics\nThis report section contains a Level 1 cross section metrics plot drawn using the cross section dimensions fc, *_dims_L1.\n\nCross section watershed area calculated correctly\nThe watershed area metric is calculated by the XS Watershed Area tool. Given the complexities of automatically calculating watershed area for high resolution stream features, some watershed areas may not have been calculated correctly. Rerunning the Watershed Area tool or manual adjustment of the Watershed_Area_SqMile field may be required.\n\nWatershed values are reasonable.\nWatershed area must increase moving downstream.\n\n\n\nElevation smoothing is acceptable\nHigh resolution LiDAR derived stream elevations can be noisy. Smoothing the elevations longitudinally is a way reduce noise. However, too much smoothing can be applied, eliminating any of the relationships we want to observe. By visually comparing the raw elevation and the smoothed elevation graphs, verify that the amount of smoothing sufficiently reduces noise, but does not not go too far and removes substantive variation. Smoothing is controlled in the XS Dimension tools using the “loess_span” parameter.\n\n\nEnsure metrics values are smooth\nMany reach metrics are calculated using a longitudinal moving window analysis. The size of the moving window is controlled in the XS Dimensions tools using the “lead_n” parameter. A smaller value applies a narrower moving mindow and a larger value applies a wider moving window. If the moving window is too small, metric values will be highly variable along the stream. As the moving window size gets larger, metric value variation will be reduced.\n\n\nSlope values are reasonable\nSlope values should be greater than zero. If negative slopes are being recorded, it usually means that the moving window size needs to be increased.\n\n\nSinuosity values are reasonable\nSinuosity values should be greater than one.\n\n\n\nCross Section Profiles\nThis report section contains a cross section map and a cross section profile graph for each cross section in the reach. The map is drawn from the cross section dimensions *_dims_L1 fc and the dem_hydro raster. The cross section profile graph is drawn using the cross section points fc’s for each survey.\n\nCross section must be digitized from left to right\nThe graph is being viewed from the perspective of standing in the stream, looking downstream. To ensure this orientation, cross sections must be digitized from the left descending bank to the right descending bank.\n\n\nCross section perpenduicular to the channel\n\n\nCross section covers the channel extent\n\n\nCross section extends onto floodplain\n\n\nCross section not located on built infrastructure\n\n\nCross section drawn within the DEM extent\n\n\nCross section y-axis range is not too large\n\n\nCross section x-axis range is not too large",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>QA Checklist</span>"
    ]
  },
  {
    "objectID": "4-1-QAChecklist.html#estimate_bankfull_report_qa",
    "href": "4-1-QAChecklist.html#estimate_bankfull_report_qa",
    "title": "Appendix A — QA Checklist",
    "section": "Estimate Bankfull Report",
    "text": "Estimate Bankfull Report\n\nStudy Area Overview\nThis report section contains a set of reach overview maps drawn using the flowline and the riffle cross section dimensions, *_dims_L2, feature classes (fc). Both the aerial photo and elevation are provided by Mapbox Raster Tiles. See the QA checklist items in the Level 1 Report, Study Area Overview section.\n\n\nBankfull Elevation Sensitivity Analysis\nThis report section contains the Bankfull Elevation sensitivity analysis Goodness of Fit graph and the Regional Hydraulic Geometry Curves graph drawn using the base year’s riffle cross section points fc.\n\nCorrect regions included\n\n\nAdequate range of bankfull elevations\n\n\nDetrended bankfull elevation set to a reasonable value\n\n\nDrainage Area values are reasonable\n\n\n\nLongitudinal Profile\nThis section of the report contains a cross section longitudinal profile graph drawn using the riffle cross section dimensions, riffle_channel_dims_L2 fc.\n\nElevation values are reasonable\n\n\nStationing in the correct units\n\n\nStream feature labels display correctly\n\n\n\nCross Section Metrics\nThis report section contains a Level 2 cross section metrics plot drawn using the riffle_channel_dims_L2 fc.\n\nWidth-Depth Ratio values are reasonable\n\n\nEntrenchment Ratio values are reasonable\n\n\nSlope values are reasonable\n\n\nSinuosity values are reasonable\n\n\nShear Stress values are reasonable\n\n\nUnit Stream Power values are reasonable\n\n\n\nCross Section Profiles\nThis report section contains a cross section map and a cross section profile graph for each cross section in the reach. The map is drawn from the cross section dimensions fc riffle_channel_dims_L2 and the dem_hydro raster. The cross section profile graph is drawn using the riffle_channel_points fc’s for each survey. see the QA checklist items in the Level 1 Report, Cross Section Profiles section.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>QA Checklist</span>"
    ]
  },
  {
    "objectID": "4-1-QAChecklist.html#L2_report_qa",
    "href": "4-1-QAChecklist.html#L2_report_qa",
    "title": "Appendix A — QA Checklist",
    "section": "Level 2 Report",
    "text": "Level 2 Report\n\nStudy Area Overview\nThis report section contains a set of reach overview maps drawn using the flowline and the regularly spaced cross section dimensions, *_dims_L2, feature classes (fc). Both the aerial photo and elevation are provided by Mapbox Raster Tiles. See the QA checklist items in the Level 1 Report, Study Area Overview section.\n\n\nLongitudinal Profile\nThis section of the report contains a cross section longitudinal profile graph drawn using the regularly spaced cross section dimensions, *_dims_L2 fc. See the QA checklist items in the Estimate Bankfull, Longitudinal Profile section.\n\n\nCross Section Metrics\nThis report section contains a Level 2 cross section metrics plot drawn using the regularly spaced cross section dimensions, *_dims_L2 fc.See the QA checklist items in the Estimate Bankfull, Cross section Metrics section.\n\nEnsure metrics values are smooth\n\n\n\nCross Section Profiles\nThis report section contains a cross section map and a cross section profile graph for each cross section in the reach. The map is drawn from the regularly spaced cross section dimensions fc *_dims_L2 and the dem_hydro raster. The cross section profile graph is drawn using the cross section *_points fc’s for each survey. see the QA checklist items in the Level 1 Report, Cross Section Profiles section.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>QA Checklist</span>"
    ]
  },
  {
    "objectID": "4-1-QAChecklist.html#L3_report_qa",
    "href": "4-1-QAChecklist.html#L3_report_qa",
    "title": "Appendix A — QA Checklist",
    "section": "Level 3 Report",
    "text": "Level 3 Report\n\nStudy Area Overview\nThis report section contains a set of reach overview maps drawn using the flowline and the regularly spaced cross section dimensions, *_dims_L3, feature classes (fc). Both the aerial photo and elevation are provided by Mapbox Raster Tiles. See the QA checklist items in the Level 1 Report, Study Area Overview section.\n\n\nLongitudinal Profile\nThis section of the report contains a cross section longitudinal profile graph drawn using the regularly spaced cross section dimensions, *_dims_L3 fc. See the QA checklist items in the Estimate Bankfull, Longitudinal Profile section.\n\n\nCross Section Metrics\nThis report section contains a Level 2 cross section metrics plot drawn using the regularly spaced cross section dimensions, *_dims_L3 fc.See the QA checklist items in the Estimate Bankfull, Cross section Metrics section.\n\nEnsure metrics values are smooth\n\n\nRadius of Curvature to Bankfull Width values are reasonable\n\n\n\nCross Section Profiles\nThis report section contains a cross section map and a cross section profile graph for each cross section in the reach. The map is drawn from the regularly spaced cross section dimensions fc *_dims_L3 and the dem_hydro raster. The cross section profile graph is drawn using the cross section “_points” fc’s for each survey. see the QA checklist items in the Level 1 Report, Cross Section Profiles section.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>QA Checklist</span>"
    ]
  }
]